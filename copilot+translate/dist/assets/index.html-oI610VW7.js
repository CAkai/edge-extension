import{R as re,u as ut,a as Oe,j as v,l as _r,r as M,g as Hr,f as Jr,b as Yr,d as Kr,e as Xr,c as Gr,P as Qr,s as es}from"./index-B0JJ2FMZ.js";var ft=t=>t.type==="checkbox",je=t=>t instanceof Date,H=t=>t==null;const xr=t=>typeof t=="object";var L=t=>!H(t)&&!Array.isArray(t)&&xr(t)&&!je(t),ts=t=>L(t)&&t.target?ft(t.target)?t.target.checked:t.target.value:t,rs=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ss=(t,e)=>t.has(rs(e)),ns=t=>{const e=t.constructor&&t.constructor.prototype;return L(e)&&e.hasOwnProperty("isPrototypeOf")},Wt=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function te(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Wt&&(t instanceof Blob||t instanceof FileList))&&(r||L(t)))if(e=r?[]:{},!r&&!ns(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=te(t[s]));else return t;return e}var Nt=t=>Array.isArray(t)?t.filter(Boolean):[],D=t=>t===void 0,b=(t,e,r)=>{if(!e||!L(t))return r;const s=Nt(e.split(/[,[\].]+?/)).reduce((a,n)=>H(a)?a:a[n],t);return D(s)||s===t?D(t[e])?r:t[e]:s},le=t=>typeof t=="boolean",qt=t=>/^\w*$/.test(t),br=t=>Nt(t.replace(/["|']|\]/g,"").split(/\.|\[/)),R=(t,e,r)=>{let s=-1;const a=qt(e)?[e]:br(e),n=a.length,i=n-1;for(;++s<n;){const l=a[s];let u=r;if(s!==i){const f=t[l];u=L(f)||Array.isArray(f)?f:isNaN(+a[s+1])?{}:[]}if(l==="__proto__")return;t[l]=u,t=t[l]}return t};const ir={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ne={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ge={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};re.createContext(null);var as=(t,e,r,s=!0)=>{const a={defaultValues:e._defaultValues};for(const n in t)Object.defineProperty(a,n,{get:()=>{const i=n;return e._proxyFormState[i]!==ne.all&&(e._proxyFormState[i]=!s||ne.all),t[i]}});return a},Y=t=>L(t)&&!Object.keys(t).length,is=(t,e,r,s)=>{r(t);const{name:a,...n}=t;return Y(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(i=>e[i]===ne.all)},yt=t=>Array.isArray(t)?t:[t];function os(t){const e=re.useRef(t);e.current=t,re.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var de=t=>typeof t=="string",ls=(t,e,r,s,a)=>de(t)?(s&&e.watch.add(t),b(r,t,a)):Array.isArray(t)?t.map(n=>(s&&e.watch.add(n),b(r,n))):(s&&(e.watchAll=!0),r),wr=(t,e,r,s,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:a||!0}}:{},or=t=>({isOnSubmit:!t||t===ne.onSubmit,isOnBlur:t===ne.onBlur,isOnChange:t===ne.onChange,isOnAll:t===ne.all,isOnTouch:t===ne.onTouched}),lr=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Ke=(t,e,r,s)=>{for(const a of r||Object.keys(t)){const n=b(t,a);if(n){const{_f:i,...l}=n;if(i){if(i.refs&&i.refs[0]&&e(i.refs[0],a)&&!s)return!0;if(i.ref&&e(i.ref,i.name)&&!s)return!0;if(Ke(l,e))break}else if(L(l)&&Ke(l,e))break}}};var cs=(t,e,r)=>{const s=yt(b(t,r));return R(s,"root",e[r]),R(t,r,s),t},Ht=t=>t.type==="file",ce=t=>typeof t=="function",vt=t=>{if(!Wt)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},gt=t=>de(t),Jt=t=>t.type==="radio",_t=t=>t instanceof RegExp;const cr={value:!1,isValid:!1},dr={value:!0,isValid:!0};var kr=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!D(t[0].attributes.value)?D(t[0].value)||t[0].value===""?dr:{value:t[0].value,isValid:!0}:dr:cr}return cr};const ur={isValid:!1,value:null};var Tr=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,ur):ur;function fr(t,e,r="validate"){if(gt(t)||Array.isArray(t)&&t.every(gt)||le(t)&&!t)return{type:r,message:gt(t)?t:"",ref:e}}var Ie=t=>L(t)&&!_t(t)?t:{value:t,message:""},hr=async(t,e,r,s,a)=>{const{ref:n,refs:i,required:l,maxLength:u,minLength:f,min:m,max:w,pattern:G,validate:q,name:K,valueAsNumber:At,mount:me,disabled:xe}=t._f,V=b(e,K);if(!me||xe)return{};const pe=i?i[0]:n,ye=A=>{s&&pe.reportValidity&&(pe.setCustomValidity(le(A)?"":A||""),pe.reportValidity())},F={},Re=Jt(n),mt=ft(n),Ee=Re||mt,Me=(At||Ht(n))&&D(n.value)&&D(V)||vt(n)&&n.value===""||V===""||Array.isArray(V)&&!V.length,Q=wr.bind(null,K,r,F),pt=(A,Z,P,z=ge.maxLength,se=ge.minLength)=>{const ee=A?Z:P;F[K]={type:A?z:se,message:ee,ref:n,...Q(A?z:se,ee)}};if(a?!Array.isArray(V)||!V.length:l&&(!Ee&&(Me||H(V))||le(V)&&!V||mt&&!kr(i).isValid||Re&&!Tr(i).isValid)){const{value:A,message:Z}=gt(l)?{value:!!l,message:l}:Ie(l);if(A&&(F[K]={type:ge.required,message:Z,ref:pe,...Q(ge.required,Z)},!r))return ye(Z),F}if(!Me&&(!H(m)||!H(w))){let A,Z;const P=Ie(w),z=Ie(m);if(!H(V)&&!isNaN(V)){const se=n.valueAsNumber||V&&+V;H(P.value)||(A=se>P.value),H(z.value)||(Z=se<z.value)}else{const se=n.valueAsDate||new Date(V),ee=We=>new Date(new Date().toDateString()+" "+We),Be=n.type=="time",ze=n.type=="week";de(P.value)&&V&&(A=Be?ee(V)>ee(P.value):ze?V>P.value:se>new Date(P.value)),de(z.value)&&V&&(Z=Be?ee(V)<ee(z.value):ze?V<z.value:se<new Date(z.value))}if((A||Z)&&(pt(!!A,P.message,z.message,ge.max,ge.min),!r))return ye(F[K].message),F}if((u||f)&&!Me&&(de(V)||a&&Array.isArray(V))){const A=Ie(u),Z=Ie(f),P=!H(A.value)&&V.length>+A.value,z=!H(Z.value)&&V.length<+Z.value;if((P||z)&&(pt(P,A.message,Z.message),!r))return ye(F[K].message),F}if(G&&!Me&&de(V)){const{value:A,message:Z}=Ie(G);if(_t(A)&&!V.match(A)&&(F[K]={type:ge.pattern,message:Z,ref:n,...Q(ge.pattern,Z)},!r))return ye(Z),F}if(q){if(ce(q)){const A=await q(V,e),Z=fr(A,pe);if(Z&&(F[K]={...Z,...Q(ge.validate,Z.message)},!r))return ye(Z.message),F}else if(L(q)){let A={};for(const Z in q){if(!Y(A)&&!r)break;const P=fr(await q[Z](V,e),pe,Z);P&&(A={...P,...Q(Z,P.message)},ye(P.message),r&&(F[K]=A))}if(!Y(A)&&(F[K]={ref:pe,...A},!r))return F}}return ye(!0),F};function ds(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=D(t)?s++:t[e[s++]];return t}function us(t){for(const e in t)if(t.hasOwnProperty(e)&&!D(t[e]))return!1;return!0}function $(t,e){const r=Array.isArray(e)?e:qt(e)?[e]:br(e),s=r.length===1?t:ds(t,r),a=r.length-1,n=r[a];return s&&delete s[n],a!==0&&(L(s)&&Y(s)||Array.isArray(s)&&us(s))&&$(t,r.slice(0,-1)),t}var Mt=()=>{let t=[];return{get observers(){return t},next:a=>{for(const n of t)n.next&&n.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(n=>n!==a)}}),unsubscribe:()=>{t=[]}}},Pt=t=>H(t)||!xr(t);function be(t,e){if(Pt(t)||Pt(e))return t===e;if(je(t)&&je(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const a of r){const n=t[a];if(!s.includes(a))return!1;if(a!=="ref"){const i=e[a];if(je(n)&&je(i)||L(n)&&L(i)||Array.isArray(n)&&Array.isArray(i)?!be(n,i):n!==i)return!1}}return!0}var Sr=t=>t.type==="select-multiple",fs=t=>Jt(t)||ft(t),It=t=>vt(t)&&t.isConnected,Cr=t=>{for(const e in t)if(ce(t[e]))return!0;return!1};function xt(t,e={}){const r=Array.isArray(t);if(L(t)||r)for(const s in t)Array.isArray(t[s])||L(t[s])&&!Cr(t[s])?(e[s]=Array.isArray(t[s])?[]:{},xt(t[s],e[s])):H(t[s])||(e[s]=!0);return e}function Er(t,e,r){const s=Array.isArray(t);if(L(t)||s)for(const a in t)Array.isArray(t[a])||L(t[a])&&!Cr(t[a])?D(e)||Pt(r[a])?r[a]=Array.isArray(t[a])?xt(t[a],[]):{...xt(t[a])}:Er(t[a],H(e)?{}:e[a],r[a]):r[a]=!be(t[a],e[a]);return r}var qe=(t,e)=>Er(t,e,xt(e)),Nr=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>D(t)?t:e?t===""?NaN:t&&+t:r&&de(t)?new Date(t):s?s(t):t;function Dt(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Ht(e)?e.files:Jt(e)?Tr(t.refs).value:Sr(e)?[...e.selectedOptions].map(({value:r})=>r):ft(e)?kr(t.refs).value:Nr(D(e.value)?t.ref.value:e.value,t)}var hs=(t,e,r,s)=>{const a={};for(const n of t){const i=b(e,n);i&&R(a,n,i._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:s}},He=t=>D(t)?t:_t(t)?t.source:L(t)?_t(t.value)?t.value.source:t.value:t;const mr="AsyncFunction";var ms=t=>(!t||!t.validate)&&!!(ce(t.validate)&&t.validate.constructor.name===mr||L(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===mr)),ps=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function pr(t,e,r){const s=b(t,r);if(s||qt(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const n=a.join("."),i=b(e,n),l=b(t,n);if(i&&!Array.isArray(i)&&r!==n)return{name:r};if(l&&l.type)return{name:n,error:l};a.pop()}return{name:r}}var ys=(t,e,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?s.isOnBlur:a.isOnBlur)?!t:(r?s.isOnChange:a.isOnChange)?t:!0,gs=(t,e)=>!Nt(b(t,e)).length&&$(t,e);const vs={mode:ne.onSubmit,reValidateMode:ne.onChange,shouldFocusError:!0};function _s(t={}){let e={...vs,...t},r={submitCount:0,isDirty:!1,isLoading:ce(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},a=L(e.defaultValues)||L(e.values)?te(e.defaultValues||e.values)||{}:{},n=e.shouldUnregister?{}:te(a),i={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,f=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={values:Mt(),array:Mt(),state:Mt()},G=or(e.mode),q=or(e.reValidateMode),K=e.criteriaMode===ne.all,At=o=>c=>{clearTimeout(f),f=setTimeout(o,c)},me=async o=>{if(!e.disabled&&(m.isValid||o)){const c=e.resolver?Y((await Ee()).errors):await Q(s,!0);c!==r.isValid&&w.state.next({isValid:c})}},xe=(o,c)=>{!e.disabled&&(m.isValidating||m.validatingFields)&&((o||Array.from(l.mount)).forEach(d=>{d&&(c?R(r.validatingFields,d,c):$(r.validatingFields,d))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Y(r.validatingFields)}))},V=(o,c=[],d,_,y=!0,p=!0)=>{if(_&&d&&!e.disabled){if(i.action=!0,p&&Array.isArray(b(s,o))){const T=d(b(s,o),_.argA,_.argB);y&&R(s,o,T)}if(p&&Array.isArray(b(r.errors,o))){const T=d(b(r.errors,o),_.argA,_.argB);y&&R(r.errors,o,T),gs(r.errors,o)}if(m.touchedFields&&p&&Array.isArray(b(r.touchedFields,o))){const T=d(b(r.touchedFields,o),_.argA,_.argB);y&&R(r.touchedFields,o,T)}m.dirtyFields&&(r.dirtyFields=qe(a,n)),w.state.next({name:o,isDirty:A(o,c),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else R(n,o,c)},pe=(o,c)=>{R(r.errors,o,c),w.state.next({errors:r.errors})},ye=o=>{r.errors=o,w.state.next({errors:r.errors,isValid:!1})},F=(o,c,d,_)=>{const y=b(s,o);if(y){const p=b(n,o,D(d)?b(a,o):d);D(p)||_&&_.defaultChecked||c?R(n,o,c?p:Dt(y._f)):z(o,p),i.mount&&me()}},Re=(o,c,d,_,y)=>{let p=!1,T=!1;const j={name:o};if(!e.disabled){const U=!!(b(s,o)&&b(s,o)._f&&b(s,o)._f.disabled);if(!d||_){m.isDirty&&(T=r.isDirty,r.isDirty=j.isDirty=A(),p=T!==j.isDirty);const B=U||be(b(a,o),c);T=!!(!U&&b(r.dirtyFields,o)),B||U?$(r.dirtyFields,o):R(r.dirtyFields,o,!0),j.dirtyFields=r.dirtyFields,p=p||m.dirtyFields&&T!==!B}if(d){const B=b(r.touchedFields,o);B||(R(r.touchedFields,o,d),j.touchedFields=r.touchedFields,p=p||m.touchedFields&&B!==d)}p&&y&&w.state.next(j)}return p?j:{}},mt=(o,c,d,_)=>{const y=b(r.errors,o),p=m.isValid&&le(c)&&r.isValid!==c;if(t.delayError&&d?(u=At(()=>pe(o,d)),u(t.delayError)):(clearTimeout(f),u=null,d?R(r.errors,o,d):$(r.errors,o)),(d?!be(y,d):y)||!Y(_)||p){const T={..._,...p&&le(c)?{isValid:c}:{},errors:r.errors,name:o};r={...r,...T},w.state.next(T)}},Ee=async o=>{xe(o,!0);const c=await e.resolver(n,e.context,hs(o||l.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return xe(o),c},Me=async o=>{const{errors:c}=await Ee(o);if(o)for(const d of o){const _=b(c,d);_?R(r.errors,d,_):$(r.errors,d)}else r.errors=c;return c},Q=async(o,c,d={valid:!0})=>{for(const _ in o){const y=o[_];if(y){const{_f:p,...T}=y;if(p){const j=l.array.has(p.name),U=y._f&&ms(y._f);U&&m.validatingFields&&xe([_],!0);const B=await hr(y,n,K,e.shouldUseNativeValidation&&!c,j);if(U&&m.validatingFields&&xe([_]),B[p.name]&&(d.valid=!1,c))break;!c&&(b(B,p.name)?j?cs(r.errors,B,p.name):R(r.errors,p.name,B[p.name]):$(r.errors,p.name))}!Y(T)&&await Q(T,c,d)}}return d.valid},pt=()=>{for(const o of l.unMount){const c=b(s,o);c&&(c._f.refs?c._f.refs.every(d=>!It(d)):!It(c._f.ref))&&Ot(o)}l.unMount=new Set},A=(o,c)=>!e.disabled&&(o&&c&&R(n,o,c),!be(Kt(),a)),Z=(o,c,d)=>ls(o,l,{...i.mount?n:D(c)?a:de(o)?{[o]:c}:c},d,c),P=o=>Nt(b(i.mount?n:a,o,t.shouldUnregister?b(a,o,[]):[])),z=(o,c,d={})=>{const _=b(s,o);let y=c;if(_){const p=_._f;p&&(!p.disabled&&R(n,o,Nr(c,p)),y=vt(p.ref)&&H(c)?"":c,Sr(p.ref)?[...p.ref.options].forEach(T=>T.selected=y.includes(T.value)):p.refs?ft(p.ref)?p.refs.length>1?p.refs.forEach(T=>(!T.defaultChecked||!T.disabled)&&(T.checked=Array.isArray(y)?!!y.find(j=>j===T.value):y===T.value)):p.refs[0]&&(p.refs[0].checked=!!y):p.refs.forEach(T=>T.checked=T.value===y):Ht(p.ref)?p.ref.value="":(p.ref.value=y,p.ref.type||w.values.next({name:o,values:{...n}})))}(d.shouldDirty||d.shouldTouch)&&Re(o,y,d.shouldTouch,d.shouldDirty,!0),d.shouldValidate&&We(o)},se=(o,c,d)=>{for(const _ in c){const y=c[_],p=`${o}.${_}`,T=b(s,p);(l.array.has(o)||L(y)||T&&!T._f)&&!je(y)?se(p,y,d):z(p,y,d)}},ee=(o,c,d={})=>{const _=b(s,o),y=l.array.has(o),p=te(c);R(n,o,p),y?(w.array.next({name:o,values:{...n}}),(m.isDirty||m.dirtyFields)&&d.shouldDirty&&w.state.next({name:o,dirtyFields:qe(a,n),isDirty:A(o,p)})):_&&!_._f&&!H(p)?se(o,p,d):z(o,p,d),lr(o,l)&&w.state.next({...r}),w.values.next({name:i.mount?o:void 0,values:{...n}})},Be=async o=>{i.mount=!0;const c=o.target;let d=c.name,_=!0;const y=b(s,d),p=()=>c.type?Dt(y._f):ts(o),T=j=>{_=Number.isNaN(j)||je(j)&&isNaN(j.getTime())||be(j,b(n,d,j))};if(y){let j,U;const B=p(),Ne=o.type===ir.BLUR||o.type===ir.FOCUS_OUT,zr=!ps(y._f)&&!e.resolver&&!b(r.errors,d)&&!y._f.deps||ys(Ne,b(r.touchedFields,d),r.isSubmitted,q,G),Zt=lr(d,l,Ne);R(n,d,B),Ne?(y._f.onBlur&&y._f.onBlur(o),u&&u(0)):y._f.onChange&&y._f.onChange(o);const Rt=Re(d,B,Ne,!1),Wr=!Y(Rt)||Zt;if(!Ne&&w.values.next({name:d,type:o.type,values:{...n}}),zr)return m.isValid&&(t.mode==="onBlur"?Ne&&me():me()),Wr&&w.state.next({name:d,...Zt?{}:Rt});if(!Ne&&Zt&&w.state.next({...r}),e.resolver){const{errors:nr}=await Ee([d]);if(T(B),_){const qr=pr(r.errors,s,d),ar=pr(nr,s,qr.name||d);j=ar.error,d=ar.name,U=Y(nr)}}else xe([d],!0),j=(await hr(y,n,K,e.shouldUseNativeValidation))[d],xe([d]),T(B),_&&(j?U=!1:m.isValid&&(U=await Q(s,!0)));_&&(y._f.deps&&We(y._f.deps),mt(d,U,j,Rt))}},ze=(o,c)=>{if(b(r.errors,c)&&o.focus)return o.focus(),1},We=async(o,c={})=>{let d,_;const y=yt(o);if(e.resolver){const p=await Me(D(o)?o:y);d=Y(p),_=o?!y.some(T=>b(p,T)):d}else o?(_=(await Promise.all(y.map(async p=>{const T=b(s,p);return await Q(T&&T._f?{[p]:T}:T)}))).every(Boolean),!(!_&&!r.isValid)&&me()):_=d=await Q(s);return w.state.next({...!de(o)||m.isValid&&d!==r.isValid?{}:{name:o},...e.resolver||!o?{isValid:d}:{},errors:r.errors}),c.shouldFocus&&!_&&Ke(s,ze,o?y:l.mount),_},Kt=o=>{const c={...i.mount?n:a};return D(o)?c:de(o)?b(c,o):o.map(d=>b(c,d))},Xt=(o,c)=>({invalid:!!b((c||r).errors,o),isDirty:!!b((c||r).dirtyFields,o),error:b((c||r).errors,o),isValidating:!!b(r.validatingFields,o),isTouched:!!b((c||r).touchedFields,o)}),Pr=o=>{o&&yt(o).forEach(c=>$(r.errors,c)),w.state.next({errors:o?r.errors:{}})},Gt=(o,c,d)=>{const _=(b(s,o,{_f:{}})._f||{}).ref,y=b(r.errors,o)||{},{ref:p,message:T,type:j,...U}=y;R(r.errors,o,{...U,...c,ref:_}),w.state.next({name:o,errors:r.errors,isValid:!1}),d&&d.shouldFocus&&_&&_.focus&&_.focus()},$r=(o,c)=>ce(o)?w.values.subscribe({next:d=>o(Z(void 0,c),d)}):Z(o,c,!0),Ot=(o,c={})=>{for(const d of o?yt(o):l.mount)l.mount.delete(d),l.array.delete(d),c.keepValue||($(s,d),$(n,d)),!c.keepError&&$(r.errors,d),!c.keepDirty&&$(r.dirtyFields,d),!c.keepTouched&&$(r.touchedFields,d),!c.keepIsValidating&&$(r.validatingFields,d),!e.shouldUnregister&&!c.keepDefaultValue&&$(a,d);w.values.next({values:{...n}}),w.state.next({...r,...c.keepDirty?{isDirty:A()}:{}}),!c.keepIsValid&&me()},Qt=({disabled:o,name:c,field:d,fields:_,value:y})=>{if(le(o)&&i.mount||o){const p=o?void 0:D(y)?Dt(d?d._f:b(_,c)._f):y;R(n,c,p),Re(c,p,!1,!1,!0)}},Vt=(o,c={})=>{let d=b(s,o);const _=le(c.disabled)||le(e.disabled);return R(s,o,{...d||{},_f:{...d&&d._f?d._f:{ref:{name:o}},name:o,mount:!0,...c}}),l.mount.add(o),d?Qt({field:d,disabled:le(c.disabled)?c.disabled:e.disabled,name:o,value:c.value}):F(o,!0,c.value),{..._?{disabled:c.disabled||e.disabled}:{},...e.progressive?{required:!!c.required,min:He(c.min),max:He(c.max),minLength:He(c.minLength),maxLength:He(c.maxLength),pattern:He(c.pattern)}:{},name:o,onChange:Be,onBlur:Be,ref:y=>{if(y){Vt(o,c),d=b(s,o);const p=D(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,T=fs(p),j=d._f.refs||[];if(T?j.find(U=>U===p):p===d._f.ref)return;R(s,o,{_f:{...d._f,...T?{refs:[...j.filter(It),p,...Array.isArray(b(a,o))?[{}]:[]],ref:{type:p.type,name:o}}:{ref:p}}}),F(o,!1,void 0,p)}else d=b(s,o,{}),d._f&&(d._f.mount=!1),(e.shouldUnregister||c.shouldUnregister)&&!(ss(l.array,o)&&i.action)&&l.unMount.add(o)}}},er=()=>e.shouldFocusError&&Ke(s,ze,l.mount),Ur=o=>{le(o)&&(w.state.next({disabled:o}),Ke(s,(c,d)=>{const _=b(s,d);_&&(c.disabled=_._f.disabled||o,Array.isArray(_._f.refs)&&_._f.refs.forEach(y=>{y.disabled=_._f.disabled||o}))},0,!1))},tr=(o,c)=>async d=>{let _;if(d&&(d.preventDefault&&d.preventDefault(),d.persist&&d.persist()),e.disabled){c&&await c({...r.errors},d);return}let y=te(n);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:p,values:T}=await Ee();r.errors=p,y=T}else await Q(s);if($(r.errors,"root"),Y(r.errors)){w.state.next({errors:{}});try{await o(y,d)}catch(p){_=p}}else c&&await c({...r.errors},d),er(),setTimeout(er);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Y(r.errors)&&!_,submitCount:r.submitCount+1,errors:r.errors}),_)throw _},Br=(o,c={})=>{b(s,o)&&(D(c.defaultValue)?ee(o,te(b(a,o))):(ee(o,c.defaultValue),R(a,o,te(c.defaultValue))),c.keepTouched||$(r.touchedFields,o),c.keepDirty||($(r.dirtyFields,o),r.isDirty=c.defaultValue?A(o,te(b(a,o))):A()),c.keepError||($(r.errors,o),m.isValid&&me()),w.state.next({...r}))},rr=(o,c={})=>{const d=o?te(o):a,_=te(d),y=Y(o),p=y?a:_;if(c.keepDefaultValues||(a=d),!c.keepValues){if(c.keepDirtyValues){const T=new Set([...l.mount,...Object.keys(qe(a,n))]);for(const j of Array.from(T))b(r.dirtyFields,j)?R(p,j,b(n,j)):ee(j,b(p,j))}else{if(Wt&&D(o))for(const T of l.mount){const j=b(s,T);if(j&&j._f){const U=Array.isArray(j._f.refs)?j._f.refs[0]:j._f.ref;if(vt(U)){const B=U.closest("form");if(B){B.reset();break}}}}s={}}n=t.shouldUnregister?c.keepDefaultValues?te(a):{}:te(p),w.array.next({values:{...p}}),w.values.next({values:{...p}})}l={mount:c.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!m.isValid||!!c.keepIsValid||!!c.keepDirtyValues,i.watch=!!t.shouldUnregister,w.state.next({submitCount:c.keepSubmitCount?r.submitCount:0,isDirty:y?!1:c.keepDirty?r.isDirty:!!(c.keepDefaultValues&&!be(o,a)),isSubmitted:c.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:y?{}:c.keepDirtyValues?c.keepDefaultValues&&n?qe(a,n):r.dirtyFields:c.keepDefaultValues&&o?qe(a,o):c.keepDirty?r.dirtyFields:{},touchedFields:c.keepTouched?r.touchedFields:{},errors:c.keepErrors?r.errors:{},isSubmitSuccessful:c.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},sr=(o,c)=>rr(ce(o)?o(n):o,c);return{control:{register:Vt,unregister:Ot,getFieldState:Xt,handleSubmit:tr,setError:Gt,_executeSchema:Ee,_getWatch:Z,_getDirty:A,_updateValid:me,_removeUnmounted:pt,_updateFieldArray:V,_updateDisabledField:Qt,_getFieldArray:P,_reset:rr,_resetDefaultValues:()=>ce(e.defaultValues)&&e.defaultValues().then(o=>{sr(o,e.resetOptions),w.state.next({isLoading:!1})}),_updateFormState:o=>{r={...r,...o}},_disableForm:Ur,_subjects:w,_proxyFormState:m,_setErrors:ye,get _fields(){return s},get _formValues(){return n},get _state(){return i},set _state(o){i=o},get _defaultValues(){return a},get _names(){return l},set _names(o){l=o},get _formState(){return r},set _formState(o){r=o},get _options(){return e},set _options(o){e={...e,...o}}},trigger:We,register:Vt,handleSubmit:tr,watch:$r,setValue:ee,getValues:Kt,reset:sr,resetField:Br,clearErrors:Pr,unregister:Ot,setError:Gt,setFocus:(o,c={})=>{const d=b(s,o),_=d&&d._f;if(_){const y=_.refs?_.refs[0]:_.ref;y.focus&&(y.focus(),c.shouldSelect&&ce(y.select)&&y.select())}},getFieldState:Xt}}function xs(t={}){const e=re.useRef(),r=re.useRef(),[s,a]=re.useState({isDirty:!1,isValidating:!1,isLoading:ce(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ce(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={..._s(t),formState:s});const n=e.current.control;return n._options=t,os({subject:n._subjects.state,next:i=>{is(i,n._proxyFormState,n._updateFormState)&&a({...n._formState})}}),re.useEffect(()=>n._disableForm(t.disabled),[n,t.disabled]),re.useEffect(()=>{if(n._proxyFormState.isDirty){const i=n._getDirty();i!==s.isDirty&&n._subjects.state.next({isDirty:i})}},[n,s.isDirty]),re.useEffect(()=>{t.values&&!be(t.values,r.current)?(n._reset(t.values,n._options.resetOptions),r.current=t.values,a(i=>({...i}))):n._resetDefaultValues()},[t.values,n]),re.useEffect(()=>{t.errors&&n._setErrors(t.errors)},[t.errors,n]),re.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),re.useEffect(()=>{t.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[t.shouldUnregister,n]),e.current.formState=as(s,n),e.current}var O;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const n={};for(const i of a)n[i]=i;return n},t.getValidEnumValues=a=>{const n=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),i={};for(const l of n)i[l]=a[l];return t.objectValues(i)},t.objectValues=a=>t.objectKeys(a).map(function(n){return a[n]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const n=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.push(i);return n},t.find=(a,n)=>{for(const i of a)if(n(i))return i},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,n=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(n)}t.joinValues=s,t.jsonStringifyReplacer=(a,n)=>typeof n=="bigint"?n.toString():n})(O||(O={}));var $t;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})($t||($t={}));const x=O.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),we=t=>{switch(typeof t){case"undefined":return x.undefined;case"string":return x.string;case"number":return isNaN(t)?x.nan:x.number;case"boolean":return x.boolean;case"function":return x.function;case"bigint":return x.bigint;case"symbol":return x.symbol;case"object":return Array.isArray(t)?x.array:t===null?x.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?x.promise:typeof Map<"u"&&t instanceof Map?x.map:typeof Set<"u"&&t instanceof Set?x.set:typeof Date<"u"&&t instanceof Date?x.date:x.object;default:return x.unknown}},h=O.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),bs=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class X extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(n){return n.message},s={_errors:[]},a=n=>{for(const i of n.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)s._errors.push(r(i));else{let l=s,u=0;for(;u<i.path.length;){const f=i.path[u];u===i.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(r(i))):l[f]=l[f]||{_errors:[]},l=l[f],u++}}};return a(this),s}static assert(e){if(!(e instanceof X))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,O.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):s.push(e(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}X.create=t=>new X(t);const Pe=(t,e)=>{let r;switch(t.code){case h.invalid_type:t.received===x.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case h.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,O.jsonStringifyReplacer)}`;break;case h.unrecognized_keys:r=`Unrecognized key(s) in object: ${O.joinValues(t.keys,", ")}`;break;case h.invalid_union:r="Invalid input";break;case h.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${O.joinValues(t.options)}`;break;case h.invalid_enum_value:r=`Invalid enum value. Expected ${O.joinValues(t.options)}, received '${t.received}'`;break;case h.invalid_arguments:r="Invalid function arguments";break;case h.invalid_return_type:r="Invalid function return type";break;case h.invalid_date:r="Invalid date";break;case h.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:O.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case h.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case h.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case h.custom:r="Invalid input";break;case h.invalid_intersection_types:r="Intersection results could not be merged";break;case h.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case h.not_finite:r="Number must be finite";break;default:r=e.defaultError,O.assertNever(t)}return{message:r}};let jr=Pe;function ws(t){jr=t}function bt(){return jr}const wt=t=>{const{data:e,path:r,errorMaps:s,issueData:a}=t,n=[...r,...a.path||[]],i={...a,path:n};if(a.message!==void 0)return{...a,path:n,message:a.message};let l="";const u=s.filter(f=>!!f).slice().reverse();for(const f of u)l=f(i,{data:e,defaultError:l}).message;return{...a,path:n,message:l}},ks=[];function g(t,e){const r=bt(),s=wt({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Pe?void 0:Pe].filter(a=>!!a)});t.common.issues.push(s)}class W{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const a of r){if(a.status==="aborted")return C;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const a of r){const n=await a.key,i=await a.value;s.push({key:n,value:i})}return W.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const a of r){const{key:n,value:i}=a;if(n.status==="aborted"||i.status==="aborted")return C;n.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(s[n.value]=i.value)}return{status:e.value,value:s}}}const C=Object.freeze({status:"aborted"}),Le=t=>({status:"dirty",value:t}),J=t=>({status:"valid",value:t}),Ut=t=>t.status==="aborted",Bt=t=>t.status==="dirty",Xe=t=>t.status==="valid",Ge=t=>typeof Promise<"u"&&t instanceof Promise;function kt(t,e,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Ar(t,e,r,s,a){if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var k;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(k||(k={}));var Je,Ye;class fe{constructor(e,r,s,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yr=(t,e)=>{if(Xe(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new X(t.common.issues);return this._error=r,this._error}}};function E(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,l)=>{var u,f;const{message:m}=t;return i.code==="invalid_enum_value"?{message:m??l.defaultError}:typeof l.data>"u"?{message:(u=m??s)!==null&&u!==void 0?u:l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:(f=m??r)!==null&&f!==void 0?f:l.defaultError}},description:a}}class N{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return we(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:we(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new W,ctx:{common:e.parent.common,data:e.data,parsedType:we(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ge(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:we(e)},n=this._parseSync({data:e,path:a.path,parent:a});return yr(a,n)}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:we(e)},a=this._parse({data:e,path:s.path,parent:s}),n=await(Ge(a)?a:Promise.resolve(a));return yr(s,n)}refine(e,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,n)=>{const i=e(a),l=()=>n.addIssue({code:h.custom,...s(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(u=>u?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(e,r){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(e){return new oe({schema:this,typeName:S.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ue.create(this,this._def)}nullable(){return Ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ie.create(this,this._def)}promise(){return Ue.create(this,this._def)}or(e){return rt.create([this,e],this._def)}and(e){return st.create(this,e,this._def)}transform(e){return new oe({...E(this._def),schema:this,typeName:S.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new lt({...E(this._def),innerType:this,defaultValue:r,typeName:S.ZodDefault})}brand(){return new Yt({typeName:S.ZodBranded,type:this,...E(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new ct({...E(this._def),innerType:this,catchValue:r,typeName:S.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ht.create(this,e)}readonly(){return dt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ts=/^c[^\s-]{8,}$/i,Ss=/^[0-9a-z]+$/,Cs=/^[0-9A-HJKMNP-TV-Z]{26}$/,Es=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ns=/^[a-z0-9_-]{21}$/i,js=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,As=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Os="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Lt;const Vs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Zs=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Rs=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Or="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ms=new RegExp(`^${Or}$`);function Vr(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Is(t){return new RegExp(`^${Vr(t)}$`)}function Zr(t){let e=`${Or}T${Vr(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Ds(t,e){return!!((e==="v4"||!e)&&Vs.test(t)||(e==="v6"||!e)&&Zs.test(t))}class ae extends N{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==x.string){const n=this._getOrReturnCtx(e);return g(n,{code:h.invalid_type,expected:x.string,received:n.parsedType}),C}const s=new W;let a;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(a=this._getOrReturnCtx(e,a),g(a,{code:h.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="max")e.data.length>n.value&&(a=this._getOrReturnCtx(e,a),g(a,{code:h.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="length"){const i=e.data.length>n.value,l=e.data.length<n.value;(i||l)&&(a=this._getOrReturnCtx(e,a),i?g(a,{code:h.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):l&&g(a,{code:h.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),s.dirty())}else if(n.kind==="email")As.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"email",code:h.invalid_string,message:n.message}),s.dirty());else if(n.kind==="emoji")Lt||(Lt=new RegExp(Os,"u")),Lt.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"emoji",code:h.invalid_string,message:n.message}),s.dirty());else if(n.kind==="uuid")Es.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"uuid",code:h.invalid_string,message:n.message}),s.dirty());else if(n.kind==="nanoid")Ns.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"nanoid",code:h.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid")Ts.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"cuid",code:h.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid2")Ss.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"cuid2",code:h.invalid_string,message:n.message}),s.dirty());else if(n.kind==="ulid")Cs.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"ulid",code:h.invalid_string,message:n.message}),s.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),g(a,{validation:"url",code:h.invalid_string,message:n.message}),s.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"regex",code:h.invalid_string,message:n.message}),s.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(a=this._getOrReturnCtx(e,a),g(a,{code:h.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),s.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(a=this._getOrReturnCtx(e,a),g(a,{code:h.invalid_string,validation:{startsWith:n.value},message:n.message}),s.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(a=this._getOrReturnCtx(e,a),g(a,{code:h.invalid_string,validation:{endsWith:n.value},message:n.message}),s.dirty()):n.kind==="datetime"?Zr(n).test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{code:h.invalid_string,validation:"datetime",message:n.message}),s.dirty()):n.kind==="date"?Ms.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{code:h.invalid_string,validation:"date",message:n.message}),s.dirty()):n.kind==="time"?Is(n).test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{code:h.invalid_string,validation:"time",message:n.message}),s.dirty()):n.kind==="duration"?js.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"duration",code:h.invalid_string,message:n.message}),s.dirty()):n.kind==="ip"?Ds(e.data,n.version)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"ip",code:h.invalid_string,message:n.message}),s.dirty()):n.kind==="base64"?Rs.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"base64",code:h.invalid_string,message:n.message}),s.dirty()):O.assertNever(n);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(a=>e.test(a),{validation:r,code:h.invalid_string,...k.errToObj(s)})}_addCheck(e){return new ae({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...k.errToObj(e)})}url(e){return this._addCheck({kind:"url",...k.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...k.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...k.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...k.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...k.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...k.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...k.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...k.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...k.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...k.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...k.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...k.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...k.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...k.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...k.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...k.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...k.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...k.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...k.errToObj(r)})}nonempty(e){return this.min(1,k.errToObj(e))}trim(){return new ae({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ae({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ae({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ae.create=t=>{var e;return new ae({checks:[],typeName:S.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...E(t)})};function Ls(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=r>s?r:s,n=parseInt(t.toFixed(a).replace(".","")),i=parseInt(e.toFixed(a).replace(".",""));return n%i/Math.pow(10,a)}class ke extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==x.number){const n=this._getOrReturnCtx(e);return g(n,{code:h.invalid_type,expected:x.number,received:n.parsedType}),C}let s;const a=new W;for(const n of this._def.checks)n.kind==="int"?O.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{code:h.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="multipleOf"?Ls(e.data,n.value)!==0&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{code:h.not_finite,message:n.message}),a.dirty()):O.assertNever(n);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,k.toString(r))}gt(e,r){return this.setLimit("min",e,!1,k.toString(r))}lte(e,r){return this.setLimit("max",e,!0,k.toString(r))}lt(e,r){return this.setLimit("max",e,!1,k.toString(r))}setLimit(e,r,s,a){return new ke({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:k.toString(a)}]})}_addCheck(e){return new ke({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:k.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:k.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:k.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:k.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:k.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&O.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ke.create=t=>new ke({checks:[],typeName:S.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...E(t)});class Te extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==x.bigint){const n=this._getOrReturnCtx(e);return g(n,{code:h.invalid_type,expected:x.bigint,received:n.parsedType}),C}let s;const a=new W;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):O.assertNever(n);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,k.toString(r))}gt(e,r){return this.setLimit("min",e,!1,k.toString(r))}lte(e,r){return this.setLimit("max",e,!0,k.toString(r))}lt(e,r){return this.setLimit("max",e,!1,k.toString(r))}setLimit(e,r,s,a){return new Te({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:k.toString(a)}]})}_addCheck(e){return new Te({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:k.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Te.create=t=>{var e;return new Te({checks:[],typeName:S.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...E(t)})};class Qe extends N{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==x.boolean){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:x.boolean,received:s.parsedType}),C}return J(e.data)}}Qe.create=t=>new Qe({typeName:S.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...E(t)});class Ve extends N{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==x.date){const n=this._getOrReturnCtx(e);return g(n,{code:h.invalid_type,expected:x.date,received:n.parsedType}),C}if(isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return g(n,{code:h.invalid_date}),C}const s=new W;let a;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(a=this._getOrReturnCtx(e,a),g(a,{code:h.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),s.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(a=this._getOrReturnCtx(e,a),g(a,{code:h.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),s.dirty()):O.assertNever(n);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ve({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:k.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:k.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ve.create=t=>new Ve({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:S.ZodDate,...E(t)});class Tt extends N{_parse(e){if(this._getType(e)!==x.symbol){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:x.symbol,received:s.parsedType}),C}return J(e.data)}}Tt.create=t=>new Tt({typeName:S.ZodSymbol,...E(t)});class et extends N{_parse(e){if(this._getType(e)!==x.undefined){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:x.undefined,received:s.parsedType}),C}return J(e.data)}}et.create=t=>new et({typeName:S.ZodUndefined,...E(t)});class tt extends N{_parse(e){if(this._getType(e)!==x.null){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:x.null,received:s.parsedType}),C}return J(e.data)}}tt.create=t=>new tt({typeName:S.ZodNull,...E(t)});class $e extends N{constructor(){super(...arguments),this._any=!0}_parse(e){return J(e.data)}}$e.create=t=>new $e({typeName:S.ZodAny,...E(t)});class Ae extends N{constructor(){super(...arguments),this._unknown=!0}_parse(e){return J(e.data)}}Ae.create=t=>new Ae({typeName:S.ZodUnknown,...E(t)});class _e extends N{_parse(e){const r=this._getOrReturnCtx(e);return g(r,{code:h.invalid_type,expected:x.never,received:r.parsedType}),C}}_e.create=t=>new _e({typeName:S.ZodNever,...E(t)});class St extends N{_parse(e){if(this._getType(e)!==x.undefined){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:x.void,received:s.parsedType}),C}return J(e.data)}}St.create=t=>new St({typeName:S.ZodVoid,...E(t)});class ie extends N{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),a=this._def;if(r.parsedType!==x.array)return g(r,{code:h.invalid_type,expected:x.array,received:r.parsedType}),C;if(a.exactLength!==null){const i=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(i||l)&&(g(r,{code:i?h.too_big:h.too_small,minimum:l?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(g(r,{code:h.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(g(r,{code:h.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>a.type._parseAsync(new fe(r,i,r.path,l)))).then(i=>W.mergeArray(s,i));const n=[...r.data].map((i,l)=>a.type._parseSync(new fe(r,i,r.path,l)));return W.mergeArray(s,n)}get element(){return this._def.type}min(e,r){return new ie({...this._def,minLength:{value:e,message:k.toString(r)}})}max(e,r){return new ie({...this._def,maxLength:{value:e,message:k.toString(r)}})}length(e,r){return new ie({...this._def,exactLength:{value:e,message:k.toString(r)}})}nonempty(e){return this.min(1,e)}}ie.create=(t,e)=>new ie({type:t,minLength:null,maxLength:null,exactLength:null,typeName:S.ZodArray,...E(e)});function De(t){if(t instanceof I){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=ue.create(De(s))}return new I({...t._def,shape:()=>e})}else return t instanceof ie?new ie({...t._def,type:De(t.element)}):t instanceof ue?ue.create(De(t.unwrap())):t instanceof Ce?Ce.create(De(t.unwrap())):t instanceof he?he.create(t.items.map(e=>De(e))):t}class I extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=O.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==x.object){const f=this._getOrReturnCtx(e);return g(f,{code:h.invalid_type,expected:x.object,received:f.parsedType}),C}const{status:s,ctx:a}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof _e&&this._def.unknownKeys==="strip"))for(const f in a.data)i.includes(f)||l.push(f);const u=[];for(const f of i){const m=n[f],w=a.data[f];u.push({key:{status:"valid",value:f},value:m._parse(new fe(a,w,a.path,f)),alwaysSet:f in a.data})}if(this._def.catchall instanceof _e){const f=this._def.unknownKeys;if(f==="passthrough")for(const m of l)u.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(f==="strict")l.length>0&&(g(a,{code:h.unrecognized_keys,keys:l}),s.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const m of l){const w=a.data[m];u.push({key:{status:"valid",value:m},value:f._parse(new fe(a,w,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const f=[];for(const m of u){const w=await m.key,G=await m.value;f.push({key:w,value:G,alwaysSet:m.alwaysSet})}return f}).then(f=>W.mergeObjectSync(s,f)):W.mergeObjectSync(s,u)}get shape(){return this._def.shape()}strict(e){return k.errToObj,new I({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var a,n,i,l;const u=(i=(n=(a=this._def).errorMap)===null||n===void 0?void 0:n.call(a,r,s).message)!==null&&i!==void 0?i:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=k.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new I({...this._def,unknownKeys:"strip"})}passthrough(){return new I({...this._def,unknownKeys:"passthrough"})}extend(e){return new I({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new I({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:S.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new I({...this._def,catchall:e})}pick(e){const r={};return O.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new I({...this._def,shape:()=>r})}omit(e){const r={};return O.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new I({...this._def,shape:()=>r})}deepPartial(){return De(this)}partial(e){const r={};return O.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];e&&!e[s]?r[s]=a:r[s]=a.optional()}),new I({...this._def,shape:()=>r})}required(e){const r={};return O.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let n=this.shape[s];for(;n instanceof ue;)n=n._def.innerType;r[s]=n}}),new I({...this._def,shape:()=>r})}keyof(){return Rr(O.objectKeys(this.shape))}}I.create=(t,e)=>new I({shape:()=>t,unknownKeys:"strip",catchall:_e.create(),typeName:S.ZodObject,...E(e)});I.strictCreate=(t,e)=>new I({shape:()=>t,unknownKeys:"strict",catchall:_e.create(),typeName:S.ZodObject,...E(e)});I.lazycreate=(t,e)=>new I({shape:t,unknownKeys:"strip",catchall:_e.create(),typeName:S.ZodObject,...E(e)});class rt extends N{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function a(n){for(const l of n)if(l.result.status==="valid")return l.result;for(const l of n)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=n.map(l=>new X(l.ctx.common.issues));return g(r,{code:h.invalid_union,unionErrors:i}),C}if(r.common.async)return Promise.all(s.map(async n=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await n._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(a);{let n;const i=[];for(const u of s){const f={...r,common:{...r.common,issues:[]},parent:null},m=u._parseSync({data:r.data,path:r.path,parent:f});if(m.status==="valid")return m;m.status==="dirty"&&!n&&(n={result:m,ctx:f}),f.common.issues.length&&i.push(f.common.issues)}if(n)return r.common.issues.push(...n.ctx.common.issues),n.result;const l=i.map(u=>new X(u));return g(r,{code:h.invalid_union,unionErrors:l}),C}}get options(){return this._def.options}}rt.create=(t,e)=>new rt({options:t,typeName:S.ZodUnion,...E(e)});const ve=t=>t instanceof at?ve(t.schema):t instanceof oe?ve(t.innerType()):t instanceof it?[t.value]:t instanceof Se?t.options:t instanceof ot?O.objectValues(t.enum):t instanceof lt?ve(t._def.innerType):t instanceof et?[void 0]:t instanceof tt?[null]:t instanceof ue?[void 0,...ve(t.unwrap())]:t instanceof Ce?[null,...ve(t.unwrap())]:t instanceof Yt||t instanceof dt?ve(t.unwrap()):t instanceof ct?ve(t._def.innerType):[];class jt extends N{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==x.object)return g(r,{code:h.invalid_type,expected:x.object,received:r.parsedType}),C;const s=this.discriminator,a=r.data[s],n=this.optionsMap.get(a);return n?r.common.async?n._parseAsync({data:r.data,path:r.path,parent:r}):n._parseSync({data:r.data,path:r.path,parent:r}):(g(r,{code:h.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),C)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const a=new Map;for(const n of r){const i=ve(n.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of i){if(a.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);a.set(l,n)}}return new jt({typeName:S.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...E(s)})}}function zt(t,e){const r=we(t),s=we(e);if(t===e)return{valid:!0,data:t};if(r===x.object&&s===x.object){const a=O.objectKeys(e),n=O.objectKeys(t).filter(l=>a.indexOf(l)!==-1),i={...t,...e};for(const l of n){const u=zt(t[l],e[l]);if(!u.valid)return{valid:!1};i[l]=u.data}return{valid:!0,data:i}}else if(r===x.array&&s===x.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let n=0;n<t.length;n++){const i=t[n],l=e[n],u=zt(i,l);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return r===x.date&&s===x.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class st extends N{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),a=(n,i)=>{if(Ut(n)||Ut(i))return C;const l=zt(n.value,i.value);return l.valid?((Bt(n)||Bt(i))&&r.dirty(),{status:r.value,value:l.data}):(g(s,{code:h.invalid_intersection_types}),C)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([n,i])=>a(n,i)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}st.create=(t,e,r)=>new st({left:t,right:e,typeName:S.ZodIntersection,...E(r)});class he extends N{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==x.array)return g(s,{code:h.invalid_type,expected:x.array,received:s.parsedType}),C;if(s.data.length<this._def.items.length)return g(s,{code:h.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),C;!this._def.rest&&s.data.length>this._def.items.length&&(g(s,{code:h.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const n=[...s.data].map((i,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new fe(s,i,s.path,l)):null}).filter(i=>!!i);return s.common.async?Promise.all(n).then(i=>W.mergeArray(r,i)):W.mergeArray(r,n)}get items(){return this._def.items}rest(e){return new he({...this._def,rest:e})}}he.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new he({items:t,typeName:S.ZodTuple,rest:null,...E(e)})};class nt extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==x.object)return g(s,{code:h.invalid_type,expected:x.object,received:s.parsedType}),C;const a=[],n=this._def.keyType,i=this._def.valueType;for(const l in s.data)a.push({key:n._parse(new fe(s,l,s.path,l)),value:i._parse(new fe(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?W.mergeObjectAsync(r,a):W.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof N?new nt({keyType:e,valueType:r,typeName:S.ZodRecord,...E(s)}):new nt({keyType:ae.create(),valueType:e,typeName:S.ZodRecord,...E(r)})}}class Ct extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==x.map)return g(s,{code:h.invalid_type,expected:x.map,received:s.parsedType}),C;const a=this._def.keyType,n=this._def.valueType,i=[...s.data.entries()].map(([l,u],f)=>({key:a._parse(new fe(s,l,s.path,[f,"key"])),value:n._parse(new fe(s,u,s.path,[f,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of i){const f=await u.key,m=await u.value;if(f.status==="aborted"||m.status==="aborted")return C;(f.status==="dirty"||m.status==="dirty")&&r.dirty(),l.set(f.value,m.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const u of i){const f=u.key,m=u.value;if(f.status==="aborted"||m.status==="aborted")return C;(f.status==="dirty"||m.status==="dirty")&&r.dirty(),l.set(f.value,m.value)}return{status:r.value,value:l}}}}Ct.create=(t,e,r)=>new Ct({valueType:e,keyType:t,typeName:S.ZodMap,...E(r)});class Ze extends N{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==x.set)return g(s,{code:h.invalid_type,expected:x.set,received:s.parsedType}),C;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(g(s,{code:h.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(g(s,{code:h.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const n=this._def.valueType;function i(u){const f=new Set;for(const m of u){if(m.status==="aborted")return C;m.status==="dirty"&&r.dirty(),f.add(m.value)}return{status:r.value,value:f}}const l=[...s.data.values()].map((u,f)=>n._parse(new fe(s,u,s.path,f)));return s.common.async?Promise.all(l).then(u=>i(u)):i(l)}min(e,r){return new Ze({...this._def,minSize:{value:e,message:k.toString(r)}})}max(e,r){return new Ze({...this._def,maxSize:{value:e,message:k.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ze.create=(t,e)=>new Ze({valueType:t,minSize:null,maxSize:null,typeName:S.ZodSet,...E(e)});class Fe extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==x.function)return g(r,{code:h.invalid_type,expected:x.function,received:r.parsedType}),C;function s(l,u){return wt({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,bt(),Pe].filter(f=>!!f),issueData:{code:h.invalid_arguments,argumentsError:u}})}function a(l,u){return wt({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,bt(),Pe].filter(f=>!!f),issueData:{code:h.invalid_return_type,returnTypeError:u}})}const n={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof Ue){const l=this;return J(async function(...u){const f=new X([]),m=await l._def.args.parseAsync(u,n).catch(q=>{throw f.addIssue(s(u,q)),f}),w=await Reflect.apply(i,this,m);return await l._def.returns._def.type.parseAsync(w,n).catch(q=>{throw f.addIssue(a(w,q)),f})})}else{const l=this;return J(function(...u){const f=l._def.args.safeParse(u,n);if(!f.success)throw new X([s(u,f.error)]);const m=Reflect.apply(i,this,f.data),w=l._def.returns.safeParse(m,n);if(!w.success)throw new X([a(m,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Fe({...this._def,args:he.create(e).rest(Ae.create())})}returns(e){return new Fe({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new Fe({args:e||he.create([]).rest(Ae.create()),returns:r||Ae.create(),typeName:S.ZodFunction,...E(s)})}}class at extends N{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}at.create=(t,e)=>new at({getter:t,typeName:S.ZodLazy,...E(e)});class it extends N{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return g(r,{received:r.data,code:h.invalid_literal,expected:this._def.value}),C}return{status:"valid",value:e.data}}get value(){return this._def.value}}it.create=(t,e)=>new it({value:t,typeName:S.ZodLiteral,...E(e)});function Rr(t,e){return new Se({values:t,typeName:S.ZodEnum,...E(e)})}class Se extends N{constructor(){super(...arguments),Je.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return g(r,{expected:O.joinValues(s),received:r.parsedType,code:h.invalid_type}),C}if(kt(this,Je)||Ar(this,Je,new Set(this._def.values)),!kt(this,Je).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return g(r,{received:r.data,code:h.invalid_enum_value,options:s}),C}return J(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Se.create(e,{...this._def,...r})}exclude(e,r=this._def){return Se.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}Je=new WeakMap;Se.create=Rr;class ot extends N{constructor(){super(...arguments),Ye.set(this,void 0)}_parse(e){const r=O.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==x.string&&s.parsedType!==x.number){const a=O.objectValues(r);return g(s,{expected:O.joinValues(a),received:s.parsedType,code:h.invalid_type}),C}if(kt(this,Ye)||Ar(this,Ye,new Set(O.getValidEnumValues(this._def.values))),!kt(this,Ye).has(e.data)){const a=O.objectValues(r);return g(s,{received:s.data,code:h.invalid_enum_value,options:a}),C}return J(e.data)}get enum(){return this._def.values}}Ye=new WeakMap;ot.create=(t,e)=>new ot({values:t,typeName:S.ZodNativeEnum,...E(e)});class Ue extends N{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==x.promise&&r.common.async===!1)return g(r,{code:h.invalid_type,expected:x.promise,received:r.parsedType}),C;const s=r.parsedType===x.promise?r.data:Promise.resolve(r.data);return J(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ue.create=(t,e)=>new Ue({type:t,typeName:S.ZodPromise,...E(e)});class oe extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===S.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),a=this._def.effect||null,n={addIssue:i=>{g(s,i),i.fatal?r.abort():r.dirty()},get path(){return s.path}};if(n.addIssue=n.addIssue.bind(n),a.type==="preprocess"){const i=a.transform(s.data,n);if(s.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return C;const u=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return u.status==="aborted"?C:u.status==="dirty"||r.value==="dirty"?Le(u.value):u});{if(r.value==="aborted")return C;const l=this._def.schema._parseSync({data:i,path:s.path,parent:s});return l.status==="aborted"?C:l.status==="dirty"||r.value==="dirty"?Le(l.value):l}}if(a.type==="refinement"){const i=l=>{const u=a.refinement(l,n);if(s.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?C:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?C:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Xe(i))return i;const l=a.transform(i.value,n);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>Xe(i)?Promise.resolve(a.transform(i.value,n)).then(l=>({status:r.value,value:l})):i);O.assertNever(a)}}oe.create=(t,e,r)=>new oe({schema:t,typeName:S.ZodEffects,effect:e,...E(r)});oe.createWithPreprocess=(t,e,r)=>new oe({schema:e,effect:{type:"preprocess",transform:t},typeName:S.ZodEffects,...E(r)});class ue extends N{_parse(e){return this._getType(e)===x.undefined?J(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ue.create=(t,e)=>new ue({innerType:t,typeName:S.ZodOptional,...E(e)});class Ce extends N{_parse(e){return this._getType(e)===x.null?J(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ce.create=(t,e)=>new Ce({innerType:t,typeName:S.ZodNullable,...E(e)});class lt extends N{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===x.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}lt.create=(t,e)=>new lt({innerType:t,typeName:S.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...E(e)});class ct extends N{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ge(a)?a.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new X(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new X(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}ct.create=(t,e)=>new ct({innerType:t,typeName:S.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...E(e)});class Et extends N{_parse(e){if(this._getType(e)!==x.nan){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:x.nan,received:s.parsedType}),C}return{status:"valid",value:e.data}}}Et.create=t=>new Et({typeName:S.ZodNaN,...E(t)});const Fs=Symbol("zod_brand");class Yt extends N{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class ht extends N{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?C:n.status==="dirty"?(r.dirty(),Le(n.value)):this._def.out._parseAsync({data:n.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?C:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,r){return new ht({in:e,out:r,typeName:S.ZodPipeline})}}class dt extends N{_parse(e){const r=this._def.innerType._parse(e),s=a=>(Xe(a)&&(a.value=Object.freeze(a.value)),a);return Ge(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}dt.create=(t,e)=>new dt({innerType:t,typeName:S.ZodReadonly,...E(e)});function Mr(t,e={},r){return t?$e.create().superRefine((s,a)=>{var n,i;if(!t(s)){const l=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,u=(i=(n=l.fatal)!==null&&n!==void 0?n:r)!==null&&i!==void 0?i:!0,f=typeof l=="string"?{message:l}:l;a.addIssue({code:"custom",...f,fatal:u})}}):$e.create()}const Ps={object:I.lazycreate};var S;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(S||(S={}));const $s=(t,e={message:`Input not instance of ${t.name}`})=>Mr(r=>r instanceof t,e),Ir=ae.create,Dr=ke.create,Us=Et.create,Bs=Te.create,Lr=Qe.create,zs=Ve.create,Ws=Tt.create,qs=et.create,Hs=tt.create,Js=$e.create,Ys=Ae.create,Ks=_e.create,Xs=St.create,Gs=ie.create,Qs=I.create,en=I.strictCreate,tn=rt.create,rn=jt.create,sn=st.create,nn=he.create,an=nt.create,on=Ct.create,ln=Ze.create,cn=Fe.create,dn=at.create,un=it.create,fn=Se.create,hn=ot.create,mn=Ue.create,gr=oe.create,pn=ue.create,yn=Ce.create,gn=oe.createWithPreprocess,vn=ht.create,_n=()=>Ir().optional(),xn=()=>Dr().optional(),bn=()=>Lr().optional(),wn={string:t=>ae.create({...t,coerce:!0}),number:t=>ke.create({...t,coerce:!0}),boolean:t=>Qe.create({...t,coerce:!0}),bigint:t=>Te.create({...t,coerce:!0}),date:t=>Ve.create({...t,coerce:!0})},kn=C;var Ft=Object.freeze({__proto__:null,defaultErrorMap:Pe,setErrorMap:ws,getErrorMap:bt,makeIssue:wt,EMPTY_PATH:ks,addIssueToContext:g,ParseStatus:W,INVALID:C,DIRTY:Le,OK:J,isAborted:Ut,isDirty:Bt,isValid:Xe,isAsync:Ge,get util(){return O},get objectUtil(){return $t},ZodParsedType:x,getParsedType:we,ZodType:N,datetimeRegex:Zr,ZodString:ae,ZodNumber:ke,ZodBigInt:Te,ZodBoolean:Qe,ZodDate:Ve,ZodSymbol:Tt,ZodUndefined:et,ZodNull:tt,ZodAny:$e,ZodUnknown:Ae,ZodNever:_e,ZodVoid:St,ZodArray:ie,ZodObject:I,ZodUnion:rt,ZodDiscriminatedUnion:jt,ZodIntersection:st,ZodTuple:he,ZodRecord:nt,ZodMap:Ct,ZodSet:Ze,ZodFunction:Fe,ZodLazy:at,ZodLiteral:it,ZodEnum:Se,ZodNativeEnum:ot,ZodPromise:Ue,ZodEffects:oe,ZodTransformer:oe,ZodOptional:ue,ZodNullable:Ce,ZodDefault:lt,ZodCatch:ct,ZodNaN:Et,BRAND:Fs,ZodBranded:Yt,ZodPipeline:ht,ZodReadonly:dt,custom:Mr,Schema:N,ZodSchema:N,late:Ps,get ZodFirstPartyTypeKind(){return S},coerce:wn,any:Js,array:Gs,bigint:Bs,boolean:Lr,date:zs,discriminatedUnion:rn,effect:gr,enum:fn,function:cn,instanceof:$s,intersection:sn,lazy:dn,literal:un,map:on,nan:Us,nativeEnum:hn,never:Ks,null:Hs,nullable:yn,number:Dr,object:Qs,oboolean:bn,onumber:xn,optional:pn,ostring:_n,pipeline:vn,preprocess:gn,promise:mn,record:an,set:ln,strictObject:en,string:Ir,symbol:Ws,transformer:gr,tuple:nn,undefined:qs,union:tn,unknown:Ys,void:Xs,NEVER:kn,ZodIssueCode:h,quotelessJson:bs,ZodError:X});const vr=(t,e,r)=>{if(t&&"reportValidity"in t){const s=b(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},Fr=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?vr(s.ref,r,t):s.refs&&s.refs.forEach(a=>vr(a,r,t))}},Tn=(t,e)=>{e.shouldUseNativeValidation&&Fr(t,e);const r={};for(const s in t){const a=b(e.fields,s),n=Object.assign(t[s]||{},{ref:a&&a.ref});if(Sn(e.names||Object.keys(t),s)){const i=Object.assign({},b(r,s));R(i,"root",n),R(r,s,i)}else R(r,s,n)}return r},Sn=(t,e)=>t.some(r=>r.startsWith(e+"."));var Cn=function(t,e){for(var r={};t.length;){var s=t[0],a=s.code,n=s.message,i=s.path.join(".");if(!r[i])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:n,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(m){return m.errors.forEach(function(w){return t.push(w)})}),e){var u=r[i].types,f=u&&u[s.code];r[i]=wr(i,e,r,a,f?[].concat(f,s.message):s.message)}t.shift()}return r},En=function(t,e,r){return r===void 0&&(r={}),function(s,a,n){try{return Promise.resolve(function(i,l){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(f){return n.shouldUseNativeValidation&&Fr({},n),{errors:{},values:r.raw?s:f}})}catch(f){return l(f)}return u&&u.then?u.then(void 0,l):u}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:Tn(Cn(i.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw i}))}catch(i){return Promise.reject(i)}}};const Nn=Ft.object({username:Ft.string().regex(new RegExp(/^(000\d{5}|[zZ]\d{4})$/),{message:chrome.i18n.getMessage("empidError")}),password:Ft.string()}),jn=(t,e)=>{fetch("http://172.16.32.95/backend/api/v1/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(r=>r.json()).then(r=>{e(_r({...r,webui_info:{token:""}})),console.log("登入成功")}).catch(console.error)};function An(){const t=ut(),r=Oe(u=>u.theme)==="light",s=r?"text-gray-900":"text-gray-100",a=r?"bg-slate-50":"bg-gray-800",{register:n,handleSubmit:i,formState:{errors:l}}=xs({resolver:En(Nn)});return v.jsx(v.Fragment,{children:v.jsxs("div",{className:`flex min-h-full flex-1 flex-col items-center justify-center px-6 py-12 lg:px-8 ${a}`,children:[v.jsxs("div",{className:"w-full",children:[v.jsx("img",{alt:"UMC",src:chrome.runtime.getURL("icon-128.png"),style:{height:"20vmin"},className:" mx-auto w-auto"}),v.jsx("h2",{className:`text-center text-2xl font-bold leading-9 tracking-tight ${s}`,children:chrome.i18n.getMessage("signInTitle")})]}),v.jsx("div",{className:"mt-10 w-full",children:v.jsxs("form",{onSubmit:i(u=>jn(u,t)),className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsx("label",{htmlFor:"empid",className:`block text-sm font-medium leading-6 ${s}`,children:chrome.i18n.getMessage("empid")})}),v.jsx("div",{className:"mt-2",children:v.jsx("input",{...n("username"),className:"block w-full rounded-md border-0 py-1.5 px-1 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})}),l.username&&v.jsx("p",{className:"text-red-500 text-xs text-left mt-1",children:l.username.message})]}),v.jsxs("div",{children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsx("label",{htmlFor:"password",className:`block text-sm font-medium leading-6 ${s}`,children:chrome.i18n.getMessage("password")})}),v.jsx("div",{className:"mt-2",children:v.jsx("input",{...n("password"),type:"password",className:"block w-full rounded-md border-0 py-1.5 px-1 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",style:{color:"#fff"},className:"flex w-full justify-center rounded-md bg-green-600 px-3 py-1.5 text-sm font-semibold leading-6 shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600",children:chrome.i18n.getMessage("signIn")})})]})})]})})}const On=t=>M.createElement("svg",{t:1731651196750,className:"icon",viewBox:"0 0 1029 1024",xmlns:"http://www.w3.org/2000/svg","p-id":1643,xmlnsXlink:"http://www.w3.org/1999/xlink",width:200.9765625,height:200,...t},M.createElement("path",{d:"M877.216 491.808M703.84 479.936l-191.872 0L511.968 224.096C511.968 206.368 497.728 192 480 192c-17.76 0-32 14.4-32 32.096l0 287.808c0 17.76 14.272 32 32 32l223.872 0c17.76 0 32.096-14.24 32.096-32C735.968 494.176 721.6 479.936 703.84 479.936L703.84 479.936zM1028.128 834.368M224 320 128 320 128 224c0-17.664-14.336-32-32-32S64 206.336 64 224l0 128c0 17.664 14.336 32 32 32l128 0c17.664 0 32-14.336 32-32C256 334.336 241.664 320 224 320zM139.008 603.488C136 584 123.264 573.344 105.6 573.344c-17.664 0-30.112 13.984-30.112 31.68 0 5.536 1.984 9.984 2.336 15.328C126.336 815.296 302.016 960 512 960c247.424 0 448-200.576 448-448S759.424 64 512 64C321.024 64 158.4 183.712 93.952 352l69.312 0C223.968 219.904 357.088 128 512 128c212.064 0 384 171.936 384 384s-171.936 384-384 384c-178.88 0-328.736-122.464-371.424-288",fill:"#272636","p-id":1644}));function Vn(){const t=M.createRef(),e=ut(),r=Oe(f=>f.chat),s=Oe(f=>f.user),[a,n]=M.useState([]),[i,l]=M.useState(!1),u=()=>v.jsx("button",{className:"w-full text-left block px-4 py-2 text-sm text-gray-700hover:bg-gray-100",role:"menuitem",tabIndex:-1,onClick:()=>{e({type:"message/clearMessage"}),e({type:"chat/select",payload:""}),l(!1)},id:"chat-hist+1",children:chrome.i18n.getMessage("newChat")});return M.useEffect(()=>{e(Hr(s.webui_info.token))},[e,s]),M.useEffect(()=>{const f=(r==null?void 0:r.selected)??"",m=(r==null?void 0:r.chats.map((w,G)=>v.jsx("button",{className:`w-full text-left block px-4 py-2 text-sm text-gray-700 ${f===w.id?"bg-gray-200":""} hover:bg-gray-100`,role:"menuitem",tabIndex:-1,onClick:()=>{e({type:"chat/select",payload:w.id}),l(!1),Jr(s.webui_info.token,w.id,e)},id:`chat-hist-${G}`,children:w.title})))??[];m.push(u()),n(m)},[r,e]),M.useEffect(()=>{const f=m=>{t.current&&!t.current.contains(m.target)&&l(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[t]),v.jsxs("div",{ref:t,className:"relative inline-block text-left",children:[v.jsx("div",{children:v.jsxs("button",{type:"button",className:"inline-flex w-full justify-center gap-x-0.5 rounded-md p-1 bg-white text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",id:"menu-button","aria-expanded":i,"aria-haspopup":"menu",onClick:()=>l(!i),children:[v.jsx(On,{style:{width:"20px",height:"20px"}}),v.jsx("svg",{className:`-mr-1 h-5 w-5 text-gray-400 transform transition-transform duration-300 ${i?"-rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",children:v.jsx("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})})]})}),v.jsx("div",{className:`absolute right-0 bottom-[2.5rem] z-10 mt-2 w-56 origin-bottom-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none scale-animation ${i?"scale-on":"scale-off"}`,role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:-1,children:v.jsx("div",{role:"none",children:a})})]})}const Zn=t=>M.createElement("svg",{t:1730962429708,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":15923,xmlnsXlink:"http://www.w3.org/1999/xlink",width:200,height:200,...t},M.createElement("path",{d:"M114.0736 307.2l-1.4336 0.73728v418.33472L512 942.08V511.20128z",fill:"#FFFFFF","p-id":15924}),M.createElement("path",{d:"M930.73408 302.72512L521.3184 92.16 128.50176 294.07232l-15.86176 8.2944L521.3184 501.76l4.79232-2.16064L931.84 303.45216v-0.3584l-1.10592-0.36864zM526.11072 499.6096L521.3184 501.76l4.79232-2.16064z",fill:"#91D5FF","p-id":15925}),M.createElement("path",{d:"M1006.40768 264.31488a68.21888 68.21888 0 0 0-29.04064-30.39232L548.00384 7.68a67.51232 67.51232 0 0 0-62.49472 0L56.50432 232.448a66.44736 66.44736 0 0 0-17.64352 15.74912 73.25696 73.25696 0 0 0-11.02848 14.27456A67.87072 67.87072 0 0 0 20.48 291.76832v439.33696a67.33824 67.33824 0 0 0 36.7616 59.31008l428.99456 224.79872c9.32864 5.29408 19.79392 8.31488 30.5152 8.78592h5.15072a64.53248 64.53248 0 0 0 26.10176-6.9632L976.9984 792.25856A67.33824 67.33824 0 0 0 1013.76 732.93824V291.76832a64.23552 64.23552 0 0 0-7.35232-27.45344z m-80.50688 39.90528l-404.3776 199.168-4.77184 2.56v427.25376L107.60192 719.02208V303.85152l15.81056-8.41728L516.75136 89.67168l408.04352 213.8112 1.10592 0.73728z",fill:"#40A9FF","p-id":15926}));function Rn(){const t=M.createRef(),e=ut(),r=Oe(u=>u.llm),s=Oe(u=>u.user),[a,n]=M.useState([]),[i,l]=M.useState(!1);return M.useEffect(()=>{e(Yr(s.webui_info.token))},[e,s]),M.useEffect(()=>{const u=(r==null?void 0:r.selected)??"";n((r==null?void 0:r.models.map((f,m)=>v.jsx("button",{className:`w-full text-left block px-4 py-2 text-sm text-gray-700 ${u===f.id?"bg-gray-200":""} hover:bg-gray-100`,role:"menuitem",tabIndex:-1,onClick:()=>{e({type:"llm/selectModel",payload:f.id}),l(!1)},id:`menu-item-${m}`,children:f.name})))??[])},[r,e]),M.useEffect(()=>{const u=f=>{t.current&&!t.current.contains(f.target)&&l(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[t]),v.jsxs("div",{ref:t,className:"relative inline-block text-left",children:[v.jsx("div",{children:v.jsxs("button",{type:"button",className:"inline-flex w-full justify-center gap-x-0.5 rounded-md p-1 bg-white text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",id:"menu-button","aria-expanded":i,"aria-haspopup":"menu",onClick:()=>l(!i),children:[v.jsx(Zn,{style:{width:"20px",height:"20px"}}),v.jsx("svg",{className:`-mr-1 h-5 w-5 text-gray-400 transform transition-transform duration-300 ${i?"-rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",children:v.jsx("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})})]})}),v.jsx("div",{className:`absolute left-0 bottom-[2.5rem] z-10 mt-2 w-56 origin-bottom-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none scale-animation ${i?"scale-on":"scale-off"}`,role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:-1,children:v.jsx("div",{role:"none",children:a})})]})}const Mn=t=>M.createElement("svg",{t:1730272859620,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":4251,xmlnsXlink:"http://www.w3.org/1999/xlink",width:200,height:200,...t},M.createElement("path",{d:"M85.333333 896l896-384L85.333333 128v298.666667l640 85.333333-640 85.333333z","p-id":4252})),In=async(t="",e,r)=>{r({type:"message/addMessage",payload:{role:e.model,content:""}}),await fetch("http://172.16.41.100:8080/api/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)}).then(s=>{if(s.ok&&s.body){const a=s.body.pipeThrough(new TextDecoderStream).getReader(),n={role:e.model,content:""},i=()=>a.read().then(({value:l,done:u})=>{var w,G,q;if(u)return a.cancel(),Promise.resolve();const f=/{.*}/.exec(l);if(!f||!f[0])return i();const m=JSON.parse(f[0]);return n.content+=((q=(G=(w=m==null?void 0:m.choices)==null?void 0:w[0])==null?void 0:G.delta)==null?void 0:q.content)??"",r({type:"message/updateLastMessage",payload:{...n}}),i()});return i()}else return Promise.reject(s)})};function Dn(){const[t,e]=M.useState(""),r=Kr(),s=ut(),a=Oe(u=>u.llm.selected),n=u=>{e(u.target.value)},i=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),l(t),e(""))},l=async u=>{s({type:"message/addMessage",payload:{role:"user",content:u}});const f=r.getState();await In(f.user.webui_info.token,{model:f.llm.selected,stream:!0,messages:f.message.map(m=>({role:m.role==="user"?"user":"system",content:m.content}))},s)};return M.useEffect(()=>{const u=(f,m,w)=>{f&&f.type==="clipboard"&&(l(f.value),w("已貼上至 Side Panel"))};return chrome.runtime.onMessage.addListener(u),()=>{chrome.runtime.onMessage.removeListener(u)}},[]),v.jsxs("div",{className:"flex flex-col justify-end",children:[v.jsxs("div",{className:"flex justify-between mb-1",children:[v.jsxs("div",{className:"flex gap-1 items-center",children:[v.jsx(Rn,{}),v.jsx("p",{children:a})]}),v.jsx(Vn,{})]}),v.jsxs("div",{className:"rounded-lg border border-black w-full h-28 relative",children:[v.jsx("textarea",{className:"overflow-hidden text-base w-full h-full px-2 py-1 bg-transparent",placeholder:chrome.i18n.getMessage("enterText"),value:t,onKeyDown:i,onChange:n}),v.jsx("button",{className:"absolute bottom-1 right-1",onClick:()=>{l(t),e("")},children:v.jsx(Mn,{style:{width:"20px",height:"20px"}})})]})]})}function Ln({width:t="w-4",height:e="h-4"}){return v.jsxs("div",{role:"status",children:[v.jsxs("svg",{"aria-hidden":"true",className:`inline ${t} ${e} text-gray-200 animate-spin dark:text-gray-600 fill-blue-600`,viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),v.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),v.jsx("span",{className:"sr-only",children:chrome.i18n.getMessage("waitingForResponse")})]})}function Fn(){const t=Oe(n=>n.message),[e,r]=M.useState([]),s=M.createRef(),a=()=>{var n;(n=s.current)==null||n.scrollIntoView({behavior:"smooth"})};return M.useEffect(()=>{r(t.map((n,i)=>v.jsxs("div",{className:`p-1 flex flex-col ${n.role==="user"?"items-end":"items-start"}`,children:[n.role==="user"?!1:v.jsx("p",{children:n.role}),v.jsx("div",{className:`p-2 rounded-lg w-fit max-w-[95%] text-base ${n.role==="user"?"bg-gray-200":"bg-slate-50"}`,children:n.content===""?v.jsx(Ln,{}):n.content})]},i))),a()},[t]),v.jsxs("div",{className:"flex flex-col gap-1 overflow-auto no-scrollbar",children:[e,v.jsx("div",{ref:s})]})}function Pn(){return chrome.storage.local.set({isInChat:!0}),v.jsxs("div",{className:"h-full w-full p-2 flex flex-col justify-between",children:[v.jsx(Fn,{}),v.jsx(Dn,{})]})}function $n(){const t=ut(),e=Xr(r=>r.user);return chrome.storage.local.set({isInChat:e.access_token!==""}),M.useEffect(()=>{t(_r())},[t]),v.jsx("div",{className:"h-full w-full",children:e.access_token!==""?v.jsx(Pn,{}):v.jsx(An,{})})}Gr(document.getElementById("root")).render(v.jsx(M.StrictMode,{children:v.jsx(Qr,{store:es,children:v.jsx("div",{className:"h-dvh min-w-[360px]",children:v.jsx($n,{})})})}));
