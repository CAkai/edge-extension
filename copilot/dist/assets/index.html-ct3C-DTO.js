var Bt=e=>{throw TypeError(e)};var bt=(e,t,s)=>t.has(e)||Bt("Cannot "+s);var d=(e,t,s)=>(bt(e,t,"read from private field"),s?s.call(e):t.get(e)),M=(e,t,s)=>t.has(e)?Bt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),A=(e,t,s,r)=>(bt(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),W=(e,t,s)=>(bt(e,t,"access private method"),s);var st=(e,t,s,r)=>({set _(i){A(e,t,i,s)},get _(){return d(e,t,r)}});import{j as F,t as Hs,g as Ks,c as Gs}from"./theme.store-CgDG_hds.js";import{r as U,R as ae,u as vs}from"./index-jTOKpEbi.js";import{n as Dt,i as rt,e as $s,u as dt,L as ps,a as zs}from"./navigation.store-BNlAX0pi.js";import"./content-script.ts-Ctig9oYa.js";var ft=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ht=typeof window>"u"||"Deno"in globalThis;function le(){}function Ws(e,t){return typeof e=="function"?e(t):e}function Xs(e){return typeof e=="number"&&e>=0&&e!==1/0}function Js(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ht(e,t){return typeof e=="function"?e(t):e}function Ys(e,t){return typeof e=="function"?e(t):e}function Kt(e,t){const{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:c}=e;if(o){if(r){if(t.queryHash!==_t(o,t.options))return!1}else if(!Je(t.queryKey,o))return!1}if(s!=="all"){const v=t.isActive();if(s==="active"&&!v||s==="inactive"&&v)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||a&&!a(t))}function Gt(e,t){const{exact:s,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(Xe(t.options.mutationKey)!==Xe(a))return!1}else if(!Je(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function _t(e,t){return((t==null?void 0:t.queryKeyHashFn)||Xe)(e)}function Xe(e){return JSON.stringify(e,(t,s)=>St(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function Je(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!Je(e[s],t[s])):!1}function bs(e,t){if(e===t)return e;const s=$t(e)&&$t(t);if(s||St(e)&&St(t)){const r=s?e:Object.keys(e),i=r.length,a=s?t:Object.keys(t),o=a.length,c=s?[]:{};let v=0;for(let w=0;w<o;w++){const p=s?w:a[w];(!s&&r.includes(p)||s)&&e[p]===void 0&&t[p]===void 0?(c[p]=void 0,v++):(c[p]=bs(e[p],t[p]),c[p]===e[p]&&e[p]!==void 0&&v++)}return i===o&&v===i?e:c}return t}function $t(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function St(e){if(!zt(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!zt(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zs(e){return new Promise(t=>{setTimeout(t,e)})}function er(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?bs(e,t):t}function tr(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function sr(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var Ct=Symbol();function ws(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ct?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Oe,Ae,Le,ls,rr=(ls=class extends ft{constructor(){super();M(this,Oe);M(this,Ae);M(this,Le);A(this,Le,t=>{if(!ht&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){d(this,Ae)||this.setEventListener(d(this,Le))}onUnsubscribe(){var t;this.hasListeners()||((t=d(this,Ae))==null||t.call(this),A(this,Ae,void 0))}setEventListener(t){var s;A(this,Le,t),(s=d(this,Ae))==null||s.call(this),A(this,Ae,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){d(this,Oe)!==t&&(A(this,Oe,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof d(this,Oe)=="boolean"?d(this,Oe):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Oe=new WeakMap,Ae=new WeakMap,Le=new WeakMap,ls),xs=new rr,Re,Se,Te,cs,ir=(cs=class extends ft{constructor(){super();M(this,Re,!0);M(this,Se);M(this,Te);A(this,Te,t=>{if(!ht&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){d(this,Se)||this.setEventListener(d(this,Te))}onUnsubscribe(){var t;this.hasListeners()||((t=d(this,Se))==null||t.call(this),A(this,Se,void 0))}setEventListener(t){var s;A(this,Te,t),(s=d(this,Se))==null||s.call(this),A(this,Se,t(this.setOnline.bind(this)))}setOnline(t){d(this,Re)!==t&&(A(this,Re,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return d(this,Re)}},Re=new WeakMap,Se=new WeakMap,Te=new WeakMap,cs),ut=new ir;function nr(){let e,t;const s=new Promise((i,a)=>{e=i,t=a});s.status="pending",s.catch(()=>{});function r(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},s.reject=i=>{r({status:"rejected",reason:i}),t(i)},s}function ar(e){return Math.min(1e3*2**e,3e4)}function Fs(e){return(e??"online")==="online"?ut.isOnline():!0}var As=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function wt(e){return e instanceof As}function Ss(e){let t=!1,s=0,r=!1,i;const a=nr(),o=S=>{var O;r||(C(new As(S)),(O=e.abort)==null||O.call(e))},c=()=>{t=!0},v=()=>{t=!1},w=()=>xs.isFocused()&&(e.networkMode==="always"||ut.isOnline())&&e.canRun(),p=()=>Fs(e.networkMode)&&e.canRun(),y=S=>{var O;r||(r=!0,(O=e.onSuccess)==null||O.call(e,S),i==null||i(),a.resolve(S))},C=S=>{var O;r||(r=!0,(O=e.onError)==null||O.call(e,S),i==null||i(),a.reject(S))},D=()=>new Promise(S=>{var O;i=T=>{(r||w())&&S(T)},(O=e.onPause)==null||O.call(e)}).then(()=>{var S;i=void 0,r||(S=e.onContinue)==null||S.call(e)}),P=()=>{if(r)return;let S;const O=s===0?e.initialPromise:void 0;try{S=O??e.fn()}catch(T){S=Promise.reject(T)}Promise.resolve(S).then(y).catch(T=>{var $;if(r)return;const x=e.retry??(ht?0:3),j=e.retryDelay??ar,N=typeof j=="function"?j(s,T):j,V=x===!0||typeof x=="number"&&s<x||typeof x=="function"&&x(s,T);if(t||!V){C(T);return}s++,($=e.onFail)==null||$.call(e,s,T),Zs(N).then(()=>w()?void 0:D()).then(()=>{t?C(T):P()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:c,continueRetry:v,canStart:p,start:()=>(p()?P():D().then(P),a)}}function ur(){let e=[],t=0,s=c=>{c()},r=c=>{c()},i=c=>setTimeout(c,0);const a=c=>{t?e.push(c):i(()=>{s(c)})},o=()=>{const c=e;e=[],c.length&&i(()=>{r(()=>{c.forEach(v=>{s(v)})})})};return{batch:c=>{let v;t++;try{v=c()}finally{t--,t||o()}return v},batchCalls:c=>(...v)=>{a(()=>{c(...v)})},schedule:a,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var Z=ur(),Ve,ds,Es=(ds=class{constructor(){M(this,Ve)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xs(this.gcTime)&&A(this,Ve,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ht?1/0:5*60*1e3))}clearGcTimeout(){d(this,Ve)&&(clearTimeout(d(this,Ve)),A(this,Ve,void 0))}},Ve=new WeakMap,ds),Ne,Ue,ue,X,Ye,ke,ce,we,fs,or=(fs=class extends Es{constructor(t){super();M(this,ce);M(this,Ne);M(this,Ue);M(this,ue);M(this,X);M(this,Ye);M(this,ke);A(this,ke,!1),A(this,Ye,t.defaultOptions),this.setOptions(t.options),this.observers=[],A(this,ue,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,A(this,Ne,cr(this.options)),this.state=t.state??d(this,Ne),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=d(this,X))==null?void 0:t.promise}setOptions(t){this.options={...d(this,Ye),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&d(this,ue).remove(this)}setData(t,s){const r=er(this.state.data,t,this.options);return W(this,ce,we).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){W(this,ce,we).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,i;const s=(r=d(this,X))==null?void 0:r.promise;return(i=d(this,X))==null||i.cancel(t),s?s.then(le).catch(le):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(d(this,Ne))}isActive(){return this.observers.some(t=>Ys(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ct||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Js(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=d(this,X))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=d(this,X))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),d(this,ue).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(d(this,X)&&(d(this,ke)?d(this,X).cancel({revert:!0}):d(this,X).cancelRetry()),this.scheduleGc()),d(this,ue).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||W(this,ce,we).call(this,{type:"invalidate"})}fetch(t,s){var v,w,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(d(this,X))return d(this,X).continueRetry(),d(this,X).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(C=>C.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(A(this,ke,!0),r.signal)})},a=()=>{const y=ws(this.options,s),C={queryKey:this.queryKey,meta:this.meta};return i(C),A(this,ke,!1),this.options.persister?this.options.persister(y,C,this):y(C)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(v=this.options.behavior)==null||v.onFetch(o,this),A(this,Ue,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=o.fetchOptions)==null?void 0:w.meta))&&W(this,ce,we).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta});const c=y=>{var C,D,P,S;wt(y)&&y.silent||W(this,ce,we).call(this,{type:"error",error:y}),wt(y)||((D=(C=d(this,ue).config).onError)==null||D.call(C,y,this),(S=(P=d(this,ue).config).onSettled)==null||S.call(P,this.state.data,y,this)),this.scheduleGc()};return A(this,X,Ss({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:y=>{var C,D,P,S;if(y===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(O){c(O);return}(D=(C=d(this,ue).config).onSuccess)==null||D.call(C,y,this),(S=(P=d(this,ue).config).onSettled)==null||S.call(P,y,this.state.error,this),this.scheduleGc()},onError:c,onFail:(y,C)=>{W(this,ce,we).call(this,{type:"failed",failureCount:y,error:C})},onPause:()=>{W(this,ce,we).call(this,{type:"pause"})},onContinue:()=>{W(this,ce,we).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),d(this,X).start()}},Ne=new WeakMap,Ue=new WeakMap,ue=new WeakMap,X=new WeakMap,Ye=new WeakMap,ke=new WeakMap,ce=new WeakSet,we=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lr(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return wt(i)&&i.revert&&d(this,Ue)?{...d(this,Ue),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),Z.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),d(this,ue).notify({query:this,type:"updated",action:t})})},fs);function lr(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fs(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cr(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var he,hs,dr=(hs=class extends ft{constructor(t={}){super();M(this,he);this.config=t,A(this,he,new Map)}build(t,s,r){const i=s.queryKey,a=s.queryHash??_t(i,s);let o=this.get(a);return o||(o=new or({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){d(this,he).has(t.queryHash)||(d(this,he).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=d(this,he).get(t.queryHash);s&&(t.destroy(),s===t&&d(this,he).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Z.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return d(this,he).get(t)}getAll(){return[...d(this,he).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>Kt(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>Kt(t,r)):s}notify(t){Z.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Z.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Z.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},he=new WeakMap,hs),ye,J,Me,ge,xe,ys,fr=(ys=class extends Es{constructor(t){super();M(this,ge);M(this,ye);M(this,J);M(this,Me);this.mutationId=t.mutationId,A(this,J,t.mutationCache),A(this,ye,[]),this.state=t.state||hr(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){d(this,ye).includes(t)||(d(this,ye).push(t),this.clearGcTimeout(),d(this,J).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){A(this,ye,d(this,ye).filter(s=>s!==t)),this.scheduleGc(),d(this,J).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){d(this,ye).length||(this.state.status==="pending"?this.scheduleGc():d(this,J).remove(this))}continue(){var t;return((t=d(this,Me))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,c,v,w,p,y,C,D,P,S,O,T,x,j,N,V,$,pe;A(this,Me,Ss({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,ee)=>{W(this,ge,xe).call(this,{type:"failed",failureCount:R,error:ee})},onPause:()=>{W(this,ge,xe).call(this,{type:"pause"})},onContinue:()=>{W(this,ge,xe).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>d(this,J).canRun(this)}));const s=this.state.status==="pending",r=!d(this,Me).canStart();try{if(!s){W(this,ge,xe).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=d(this,J).config).onMutate)==null?void 0:a.call(i,t,this));const ee=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));ee!==this.state.context&&W(this,ge,xe).call(this,{type:"pending",context:ee,variables:t,isPaused:r})}const R=await d(this,Me).start();return await((w=(v=d(this,J).config).onSuccess)==null?void 0:w.call(v,R,t,this.state.context,this)),await((y=(p=this.options).onSuccess)==null?void 0:y.call(p,R,t,this.state.context)),await((D=(C=d(this,J).config).onSettled)==null?void 0:D.call(C,R,null,this.state.variables,this.state.context,this)),await((S=(P=this.options).onSettled)==null?void 0:S.call(P,R,null,t,this.state.context)),W(this,ge,xe).call(this,{type:"success",data:R}),R}catch(R){try{throw await((T=(O=d(this,J).config).onError)==null?void 0:T.call(O,R,t,this.state.context,this)),await((j=(x=this.options).onError)==null?void 0:j.call(x,R,t,this.state.context)),await((V=(N=d(this,J).config).onSettled)==null?void 0:V.call(N,void 0,R,this.state.variables,this.state.context,this)),await((pe=($=this.options).onSettled)==null?void 0:pe.call($,void 0,R,t,this.state.context)),R}finally{W(this,ge,xe).call(this,{type:"error",error:R})}}finally{d(this,J).runNext(this)}}},ye=new WeakMap,J=new WeakMap,Me=new WeakMap,ge=new WeakSet,xe=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Z.batch(()=>{d(this,ye).forEach(r=>{r.onMutationUpdate(t)}),d(this,J).notify({mutation:this,type:"updated",action:t})})},ys);function hr(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var se,Ze,gs,yr=(gs=class extends ft{constructor(t={}){super();M(this,se);M(this,Ze);this.config=t,A(this,se,new Map),A(this,Ze,Date.now())}build(t,s,r){const i=new fr({mutationCache:this,mutationId:++st(this,Ze)._,options:t.defaultMutationOptions(s),state:r});return this.add(i),i}add(t){const s=it(t),r=d(this,se).get(s)??[];r.push(t),d(this,se).set(s,r),this.notify({type:"added",mutation:t})}remove(t){var r;const s=it(t);if(d(this,se).has(s)){const i=(r=d(this,se).get(s))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?d(this,se).delete(s):d(this,se).set(s,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const s=(r=d(this,se).get(it(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}runNext(t){var r;const s=(r=d(this,se).get(it(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Z.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...d(this,se).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(r=>Gt(s,r))}findAll(t={}){return this.getAll().filter(s=>Gt(t,s))}notify(t){Z.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Z.batch(()=>Promise.all(t.map(s=>s.continue().catch(le))))}},se=new WeakMap,Ze=new WeakMap,gs);function it(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Wt(e){return{onFetch:(t,s)=>{var p,y,C,D,P;const r=t.options,i=(C=(y=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:y.fetchMore)==null?void 0:C.direction,a=((D=t.state.data)==null?void 0:D.pages)||[],o=((P=t.state.data)==null?void 0:P.pageParams)||[];let c={pages:[],pageParams:[]},v=0;const w=async()=>{let S=!1;const O=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?S=!0:t.signal.addEventListener("abort",()=>{S=!0}),t.signal)})},T=ws(t.options,t.fetchOptions),x=async(j,N,V)=>{if(S)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const $={queryKey:t.queryKey,pageParam:N,direction:V?"backward":"forward",meta:t.options.meta};O($);const pe=await T($),{maxPages:R}=t.options,ee=V?sr:tr;return{pages:ee(j.pages,pe,R),pageParams:ee(j.pageParams,N,R)}};if(i&&a.length){const j=i==="backward",N=j?gr:Xt,V={pages:a,pageParams:o},$=N(r,V);c=await x(V,$,j)}else{const j=e??a.length;do{const N=v===0?o[0]??r.initialPageParam:Xt(r,c);if(v>0&&N==null)break;c=await x(c,N),v++}while(v<j)}return c};t.options.persister?t.fetchFn=()=>{var S,O;return(O=(S=t.options).persister)==null?void 0:O.call(S,w,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=w}}}function Xt(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function gr(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var I,Ee,De,Ie,qe,_e,Qe,Be,ms,mr=(ms=class{constructor(e={}){M(this,I);M(this,Ee);M(this,De);M(this,Ie);M(this,qe);M(this,_e);M(this,Qe);M(this,Be);A(this,I,e.queryCache||new dr),A(this,Ee,e.mutationCache||new yr),A(this,De,e.defaultOptions||{}),A(this,Ie,new Map),A(this,qe,new Map),A(this,_e,0)}mount(){st(this,_e)._++,d(this,_e)===1&&(A(this,Qe,xs.subscribe(async e=>{e&&(await this.resumePausedMutations(),d(this,I).onFocus())})),A(this,Be,ut.subscribe(async e=>{e&&(await this.resumePausedMutations(),d(this,I).onOnline())})))}unmount(){var e,t;st(this,_e)._--,d(this,_e)===0&&((e=d(this,Qe))==null||e.call(this),A(this,Qe,void 0),(t=d(this,Be))==null||t.call(this),A(this,Be,void 0))}isFetching(e){return d(this,I).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return d(this,Ee).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=d(this,I).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),r=d(this,I).build(this,s);return e.revalidateIfStale&&r.isStaleByTime(Ht(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return d(this,I).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),i=d(this,I).get(r.queryHash),a=i==null?void 0:i.state.data,o=Ws(t,a);if(o!==void 0)return d(this,I).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return Z.batch(()=>d(this,I).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=d(this,I).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=d(this,I);Z.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=d(this,I),r={type:"active",...e};return Z.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},r=Z.batch(()=>d(this,I).findAll(e).map(i=>i.cancel(s)));return Promise.all(r).then(le).catch(le)}invalidateQueries(e={},t={}){return Z.batch(()=>{if(d(this,I).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Z.batch(()=>d(this,I).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(le)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(le)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=d(this,I).build(this,t);return s.isStaleByTime(Ht(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(le).catch(le)}fetchInfiniteQuery(e){return e.behavior=Wt(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(le).catch(le)}ensureInfiniteQueryData(e){return e.behavior=Wt(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ut.isOnline()?d(this,Ee).resumePausedMutations():Promise.resolve()}getQueryCache(){return d(this,I)}getMutationCache(){return d(this,Ee)}getDefaultOptions(){return d(this,De)}setDefaultOptions(e){A(this,De,e)}setQueryDefaults(e,t){d(this,Ie).set(Xe(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...d(this,Ie).values()];let s={};return t.forEach(r=>{Je(e,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(e,t){d(this,qe).set(Xe(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...d(this,qe).values()];let s={};return t.forEach(r=>{Je(e,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...d(this,De).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_t(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Ct&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...d(this,De).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){d(this,I).clear(),d(this,Ee).clear()}},I=new WeakMap,Ee=new WeakMap,De=new WeakMap,Ie=new WeakMap,qe=new WeakMap,_e=new WeakMap,Qe=new WeakMap,Be=new WeakMap,ms),vr=U.createContext(void 0),pr=({client:e,children:t})=>(U.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),F.jsx(vr.Provider,{value:e,children:t}));function Jt({label:e,className:t="",textColor:s,type:r="text",error:i,register:a}){return F.jsxs("div",{className:t,children:[F.jsx("label",{className:`block text-sm font-medium leading-6 pb-[1px] ${s}`,children:e}),F.jsx("div",{children:F.jsx("input",{...a,type:r,className:"block w-full text-base rounded-md border-0 py-1.5 px-1 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})}),F.jsx("div",{className:"mt-1 h-[16px] min-w-1",children:i!==""&&F.jsx("p",{className:"text-red-500 text-xs text-left mt-1",children:i==null?void 0:i.toString()})})]},crypto.randomUUID())}var et=e=>e.type==="checkbox",Pe=e=>e instanceof Date,Y=e=>e==null;const Ds=e=>typeof e=="object";var Q=e=>!Y(e)&&!Array.isArray(e)&&Ds(e)&&!Pe(e),br=e=>Q(e)&&e.target?et(e.target)?e.target.checked:e.target.value:e,wr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xr=(e,t)=>e.has(wr(t)),Fr=e=>{const t=e.constructor&&e.constructor.prototype;return Q(t)&&t.hasOwnProperty("isPrototypeOf")},Pt=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ne(e){let t;const s=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Pt&&(e instanceof Blob||e instanceof FileList))&&(s||Q(e)))if(t=s?[]:{},!s&&!Fr(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=ne(e[r]));else return e;return t}var yt=e=>Array.isArray(e)?e.filter(Boolean):[],q=e=>e===void 0,m=(e,t,s)=>{if(!t||!Q(e))return s;const r=yt(t.split(/[,[\].]+?/)).reduce((i,a)=>Y(i)?i:i[a],e);return q(r)||r===e?q(e[t])?s:e[t]:r},fe=e=>typeof e=="boolean",Ot=e=>/^\w*$/.test(e),_s=e=>yt(e.replace(/["|']|\]/g,"").split(/\.|\[/)),L=(e,t,s)=>{let r=-1;const i=Ot(t)?[t]:_s(t),a=i.length,o=a-1;for(;++r<a;){const c=i[r];let v=s;if(r!==o){const w=e[c];v=Q(w)||Array.isArray(w)?w:isNaN(+i[r+1])?{}:[]}if(c==="__proto__")return;e[c]=v,e=e[c]}return e};const Yt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},de={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},be={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ae.createContext(null);var Ar=(e,t,s,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==de.all&&(t._proxyFormState[o]=!r||de.all),e[o]}});return i},te=e=>Q(e)&&!Object.keys(e).length,Sr=(e,t,s,r)=>{s(e);const{name:i,...a}=e;return te(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===de.all)},nt=e=>Array.isArray(e)?e:[e];function Er(e){const t=ae.useRef(e);t.current=e,ae.useEffect(()=>{const s=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}var ve=e=>typeof e=="string",Dr=(e,t,s,r,i)=>ve(e)?(r&&t.watch.add(e),m(s,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),m(s,a))):(r&&(t.watchAll=!0),s),Cs=(e,t,s,r,i)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:i||!0}}:{},Zt=e=>({isOnSubmit:!e||e===de.onSubmit,isOnBlur:e===de.onBlur,isOnChange:e===de.onChange,isOnAll:e===de.all,isOnTouch:e===de.onTouched}),es=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const We=(e,t,s,r)=>{for(const i of s||Object.keys(e)){const a=m(e,i);if(a){const{_f:o,...c}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(We(c,t))break}else if(Q(c)&&We(c,t))break}}};var _r=(e,t,s)=>{const r=nt(m(e,s));return L(r,"root",t[s]),L(e,s,r),e},Vt=e=>e.type==="file",me=e=>typeof e=="function",ot=e=>{if(!Pt)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},at=e=>ve(e),kt=e=>e.type==="radio",lt=e=>e instanceof RegExp;const ts={value:!1,isValid:!1},ss={value:!0,isValid:!0};var Ps=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!q(e[0].attributes.value)?q(e[0].value)||e[0].value===""?ss:{value:e[0].value,isValid:!0}:ss:ts}return ts};const rs={isValid:!1,value:null};var Os=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,rs):rs;function is(e,t,s="validate"){if(at(e)||Array.isArray(e)&&e.every(at)||fe(e)&&!e)return{type:s,message:at(e)?e:"",ref:t}}var je=e=>Q(e)&&!lt(e)?e:{value:e,message:""},ns=async(e,t,s,r,i)=>{const{ref:a,refs:o,required:c,maxLength:v,minLength:w,min:p,max:y,pattern:C,validate:D,name:P,valueAsNumber:S,mount:O,disabled:T}=e._f,x=m(t,P);if(!O||T)return{};const j=o?o[0]:a,N=_=>{r&&j.reportValidity&&(j.setCustomValidity(fe(_)?"":_||""),j.reportValidity())},V={},$=kt(a),pe=et(a),R=$||pe,ee=(S||Vt(a))&&q(a.value)&&q(x)||ot(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,re=Cs.bind(null,P,s,V),tt=(_,k,B,z=be.maxLength,oe=be.minLength)=>{const ie=_?k:B;V[P]={type:_?z:oe,message:ie,ref:a,...re(_?z:oe,ie)}};if(i?!Array.isArray(x)||!x.length:c&&(!R&&(ee||Y(x))||fe(x)&&!x||pe&&!Ps(o).isValid||$&&!Os(o).isValid)){const{value:_,message:k}=at(c)?{value:!!c,message:c}:je(c);if(_&&(V[P]={type:be.required,message:k,ref:j,...re(be.required,k)},!s))return N(k),V}if(!ee&&(!Y(p)||!Y(y))){let _,k;const B=je(y),z=je(p);if(!Y(x)&&!isNaN(x)){const oe=a.valueAsNumber||x&&+x;Y(B.value)||(_=oe>B.value),Y(z.value)||(k=oe<z.value)}else{const oe=a.valueAsDate||new Date(x),ie=Ge=>new Date(new Date().toDateString()+" "+Ge),He=a.type=="time",Ke=a.type=="week";ve(B.value)&&x&&(_=He?ie(x)>ie(B.value):Ke?x>B.value:oe>new Date(B.value)),ve(z.value)&&x&&(k=He?ie(x)<ie(z.value):Ke?x<z.value:oe<new Date(z.value))}if((_||k)&&(tt(!!_,B.message,z.message,be.max,be.min),!s))return N(V[P].message),V}if((v||w)&&!ee&&(ve(x)||i&&Array.isArray(x))){const _=je(v),k=je(w),B=!Y(_.value)&&x.length>+_.value,z=!Y(k.value)&&x.length<+k.value;if((B||z)&&(tt(B,_.message,k.message),!s))return N(V[P].message),V}if(C&&!ee&&ve(x)){const{value:_,message:k}=je(C);if(lt(_)&&!x.match(_)&&(V[P]={type:be.pattern,message:k,ref:a,...re(be.pattern,k)},!s))return N(k),V}if(D){if(me(D)){const _=await D(x,t),k=is(_,j);if(k&&(V[P]={...k,...re(be.validate,k.message)},!s))return N(k.message),V}else if(Q(D)){let _={};for(const k in D){if(!te(_)&&!s)break;const B=is(await D[k](x,t),j,k);B&&(_={...B,...re(k,B.message)},N(B.message),s&&(V[P]=_))}if(!te(_)&&(V[P]={ref:j,..._},!s))return V}}return N(!0),V};function Cr(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=q(e)?r++:e[t[r++]];return e}function Pr(e){for(const t in e)if(e.hasOwnProperty(t)&&!q(e[t]))return!1;return!0}function H(e,t){const s=Array.isArray(t)?t:Ot(t)?[t]:_s(t),r=s.length===1?e:Cr(e,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(Q(r)&&te(r)||Array.isArray(r)&&Pr(r))&&H(e,s.slice(0,-1)),e}var xt=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},Et=e=>Y(e)||!Ds(e);function Fe(e,t){if(Et(e)||Et(t))return e===t;if(Pe(e)&&Pe(t))return e.getTime()===t.getTime();const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(const i of s){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Pe(a)&&Pe(o)||Q(a)&&Q(o)||Array.isArray(a)&&Array.isArray(o)?!Fe(a,o):a!==o)return!1}}return!0}var Vs=e=>e.type==="select-multiple",Or=e=>kt(e)||et(e),Ft=e=>ot(e)&&e.isConnected,ks=e=>{for(const t in e)if(me(e[t]))return!0;return!1};function ct(e,t={}){const s=Array.isArray(e);if(Q(e)||s)for(const r in e)Array.isArray(e[r])||Q(e[r])&&!ks(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ct(e[r],t[r])):Y(e[r])||(t[r]=!0);return t}function Ms(e,t,s){const r=Array.isArray(e);if(Q(e)||r)for(const i in e)Array.isArray(e[i])||Q(e[i])&&!ks(e[i])?q(t)||Et(s[i])?s[i]=Array.isArray(e[i])?ct(e[i],[]):{...ct(e[i])}:Ms(e[i],Y(t)?{}:t[i],s[i]):s[i]=!Fe(e[i],t[i]);return s}var $e=(e,t)=>Ms(e,t,ct(t)),js=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>q(e)?e:t?e===""?NaN:e&&+e:s&&ve(e)?new Date(e):r?r(e):e;function At(e){const t=e.ref;if(!(e.refs?e.refs.every(s=>s.disabled):t.disabled))return Vt(t)?t.files:kt(t)?Os(e.refs).value:Vs(t)?[...t.selectedOptions].map(({value:s})=>s):et(t)?Ps(e.refs).value:js(q(t.value)?e.ref.value:t.value,e)}var Vr=(e,t,s,r)=>{const i={};for(const a of e){const o=m(t,a);o&&L(i,a,o._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:r}},ze=e=>q(e)?e:lt(e)?e.source:Q(e)?lt(e.value)?e.value.source:e.value:e;const as="AsyncFunction";var kr=e=>(!e||!e.validate)&&!!(me(e.validate)&&e.validate.constructor.name===as||Q(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===as)),Mr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function us(e,t,s){const r=m(e,s);if(r||Ot(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=m(t,a),c=m(e,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(c&&c.type)return{name:a,error:c};i.pop()}return{name:s}}var jr=(e,t,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?r.isOnBlur:i.isOnBlur)?!e:(s?r.isOnChange:i.isOnChange)?e:!0,Lr=(e,t)=>!yt(m(e,t)).length&&H(e,t);const Rr={mode:de.onSubmit,reValidateMode:de.onChange,shouldFocusError:!0};function Tr(e={}){let t={...Rr,...e},s={submitCount:0,isDirty:!1,isLoading:me(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Q(t.defaultValues)||Q(t.values)?ne(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:ne(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},v,w=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={values:xt(),array:xt(),state:xt()},C=Zt(t.mode),D=Zt(t.reValidateMode),P=t.criteriaMode===de.all,S=n=>u=>{clearTimeout(w),w=setTimeout(n,u)},O=async n=>{if(!t.disabled&&(p.isValid||n)){const u=t.resolver?te((await R()).errors):await re(r,!0);u!==s.isValid&&y.state.next({isValid:u})}},T=(n,u)=>{!t.disabled&&(p.isValidating||p.validatingFields)&&((n||Array.from(c.mount)).forEach(l=>{l&&(u?L(s.validatingFields,l,u):H(s.validatingFields,l))}),y.state.next({validatingFields:s.validatingFields,isValidating:!te(s.validatingFields)}))},x=(n,u=[],l,g,h=!0,f=!0)=>{if(g&&l&&!t.disabled){if(o.action=!0,f&&Array.isArray(m(r,n))){const b=l(m(r,n),g.argA,g.argB);h&&L(r,n,b)}if(f&&Array.isArray(m(s.errors,n))){const b=l(m(s.errors,n),g.argA,g.argB);h&&L(s.errors,n,b),Lr(s.errors,n)}if(p.touchedFields&&f&&Array.isArray(m(s.touchedFields,n))){const b=l(m(s.touchedFields,n),g.argA,g.argB);h&&L(s.touchedFields,n,b)}p.dirtyFields&&(s.dirtyFields=$e(i,a)),y.state.next({name:n,isDirty:_(n,u),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else L(a,n,u)},j=(n,u)=>{L(s.errors,n,u),y.state.next({errors:s.errors})},N=n=>{s.errors=n,y.state.next({errors:s.errors,isValid:!1})},V=(n,u,l,g)=>{const h=m(r,n);if(h){const f=m(a,n,q(l)?m(i,n):l);q(f)||g&&g.defaultChecked||u?L(a,n,u?f:At(h._f)):z(n,f),o.mount&&O()}},$=(n,u,l,g,h)=>{let f=!1,b=!1;const E={name:n};if(!t.disabled){const K=!!(m(r,n)&&m(r,n)._f&&m(r,n)._f.disabled);if(!l||g){p.isDirty&&(b=s.isDirty,s.isDirty=E.isDirty=_(),f=b!==E.isDirty);const G=K||Fe(m(i,n),u);b=!!(!K&&m(s.dirtyFields,n)),G||K?H(s.dirtyFields,n):L(s.dirtyFields,n,!0),E.dirtyFields=s.dirtyFields,f=f||p.dirtyFields&&b!==!G}if(l){const G=m(s.touchedFields,n);G||(L(s.touchedFields,n,l),E.touchedFields=s.touchedFields,f=f||p.touchedFields&&G!==l)}f&&h&&y.state.next(E)}return f?E:{}},pe=(n,u,l,g)=>{const h=m(s.errors,n),f=p.isValid&&fe(u)&&s.isValid!==u;if(e.delayError&&l?(v=S(()=>j(n,l)),v(e.delayError)):(clearTimeout(w),v=null,l?L(s.errors,n,l):H(s.errors,n)),(l?!Fe(h,l):h)||!te(g)||f){const b={...g,...f&&fe(u)?{isValid:u}:{},errors:s.errors,name:n};s={...s,...b},y.state.next(b)}},R=async n=>{T(n,!0);const u=await t.resolver(a,t.context,Vr(n||c.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return T(n),u},ee=async n=>{const{errors:u}=await R(n);if(n)for(const l of n){const g=m(u,l);g?L(s.errors,l,g):H(s.errors,l)}else s.errors=u;return u},re=async(n,u,l={valid:!0})=>{for(const g in n){const h=n[g];if(h){const{_f:f,...b}=h;if(f){const E=c.array.has(f.name),K=h._f&&kr(h._f);K&&p.validatingFields&&T([g],!0);const G=await ns(h,a,P,t.shouldUseNativeValidation&&!u,E);if(K&&p.validatingFields&&T([g]),G[f.name]&&(l.valid=!1,u))break;!u&&(m(G,f.name)?E?_r(s.errors,G,f.name):L(s.errors,f.name,G[f.name]):H(s.errors,f.name))}!te(b)&&await re(b,u,l)}}return l.valid},tt=()=>{for(const n of c.unMount){const u=m(r,n);u&&(u._f.refs?u._f.refs.every(l=>!Ft(l)):!Ft(u._f.ref))&&gt(n)}c.unMount=new Set},_=(n,u)=>!t.disabled&&(n&&u&&L(a,n,u),!Fe(Mt(),i)),k=(n,u,l)=>Dr(n,c,{...o.mount?a:q(u)?i:ve(n)?{[n]:u}:u},l,u),B=n=>yt(m(o.mount?a:i,n,e.shouldUnregister?m(i,n,[]):[])),z=(n,u,l={})=>{const g=m(r,n);let h=u;if(g){const f=g._f;f&&(!f.disabled&&L(a,n,js(u,f)),h=ot(f.ref)&&Y(u)?"":u,Vs(f.ref)?[...f.ref.options].forEach(b=>b.selected=h.includes(b.value)):f.refs?et(f.ref)?f.refs.length>1?f.refs.forEach(b=>(!b.defaultChecked||!b.disabled)&&(b.checked=Array.isArray(h)?!!h.find(E=>E===b.value):h===b.value)):f.refs[0]&&(f.refs[0].checked=!!h):f.refs.forEach(b=>b.checked=b.value===h):Vt(f.ref)?f.ref.value="":(f.ref.value=h,f.ref.type||y.values.next({name:n,values:{...a}})))}(l.shouldDirty||l.shouldTouch)&&$(n,h,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&Ge(n)},oe=(n,u,l)=>{for(const g in u){const h=u[g],f=`${n}.${g}`,b=m(r,f);(c.array.has(n)||Q(h)||b&&!b._f)&&!Pe(h)?oe(f,h,l):z(f,h,l)}},ie=(n,u,l={})=>{const g=m(r,n),h=c.array.has(n),f=ne(u);L(a,n,f),h?(y.array.next({name:n,values:{...a}}),(p.isDirty||p.dirtyFields)&&l.shouldDirty&&y.state.next({name:n,dirtyFields:$e(i,a),isDirty:_(n,f)})):g&&!g._f&&!Y(f)?oe(n,f,l):z(n,f,l),es(n,c)&&y.state.next({...s}),y.values.next({name:o.mount?n:void 0,values:{...a}})},He=async n=>{o.mount=!0;const u=n.target;let l=u.name,g=!0;const h=m(r,l),f=()=>u.type?At(h._f):br(n),b=E=>{g=Number.isNaN(E)||Pe(E)&&isNaN(E.getTime())||Fe(E,m(a,l,E))};if(h){let E,K;const G=f(),Ce=n.type===Yt.BLUR||n.type===Yt.FOCUS_OUT,qs=!Mr(h._f)&&!t.resolver&&!m(s.errors,l)&&!h._f.deps||jr(Ce,m(s.touchedFields,l),s.isSubmitted,D,C),vt=es(l,c,Ce);L(a,l,G),Ce?(h._f.onBlur&&h._f.onBlur(n),v&&v(0)):h._f.onChange&&h._f.onChange(n);const pt=$(l,G,Ce,!1),Qs=!te(pt)||vt;if(!Ce&&y.values.next({name:l,type:n.type,values:{...a}}),qs)return p.isValid&&(e.mode==="onBlur"?Ce&&O():O()),Qs&&y.state.next({name:l,...vt?{}:pt});if(!Ce&&vt&&y.state.next({...s}),t.resolver){const{errors:qt}=await R([l]);if(b(G),g){const Bs=us(s.errors,r,l),Qt=us(qt,r,Bs.name||l);E=Qt.error,l=Qt.name,K=te(qt)}}else T([l],!0),E=(await ns(h,a,P,t.shouldUseNativeValidation))[l],T([l]),b(G),g&&(E?K=!1:p.isValid&&(K=await re(r,!0)));g&&(h._f.deps&&Ge(h._f.deps),pe(l,K,E,pt))}},Ke=(n,u)=>{if(m(s.errors,u)&&n.focus)return n.focus(),1},Ge=async(n,u={})=>{let l,g;const h=nt(n);if(t.resolver){const f=await ee(q(n)?n:h);l=te(f),g=n?!h.some(b=>m(f,b)):l}else n?(g=(await Promise.all(h.map(async f=>{const b=m(r,f);return await re(b&&b._f?{[f]:b}:b)}))).every(Boolean),!(!g&&!s.isValid)&&O()):g=l=await re(r);return y.state.next({...!ve(n)||p.isValid&&l!==s.isValid?{}:{name:n},...t.resolver||!n?{isValid:l}:{},errors:s.errors}),u.shouldFocus&&!g&&We(r,Ke,n?h:c.mount),g},Mt=n=>{const u={...o.mount?a:i};return q(n)?u:ve(n)?m(u,n):n.map(l=>m(u,l))},jt=(n,u)=>({invalid:!!m((u||s).errors,n),isDirty:!!m((u||s).dirtyFields,n),error:m((u||s).errors,n),isValidating:!!m(s.validatingFields,n),isTouched:!!m((u||s).touchedFields,n)}),Ts=n=>{n&&nt(n).forEach(u=>H(s.errors,u)),y.state.next({errors:n?s.errors:{}})},Lt=(n,u,l)=>{const g=(m(r,n,{_f:{}})._f||{}).ref,h=m(s.errors,n)||{},{ref:f,message:b,type:E,...K}=h;L(s.errors,n,{...K,...u,ref:g}),y.state.next({name:n,errors:s.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},Ns=(n,u)=>me(n)?y.values.subscribe({next:l=>n(k(void 0,u),l)}):k(n,u,!0),gt=(n,u={})=>{for(const l of n?nt(n):c.mount)c.mount.delete(l),c.array.delete(l),u.keepValue||(H(r,l),H(a,l)),!u.keepError&&H(s.errors,l),!u.keepDirty&&H(s.dirtyFields,l),!u.keepTouched&&H(s.touchedFields,l),!u.keepIsValidating&&H(s.validatingFields,l),!t.shouldUnregister&&!u.keepDefaultValue&&H(i,l);y.values.next({values:{...a}}),y.state.next({...s,...u.keepDirty?{isDirty:_()}:{}}),!u.keepIsValid&&O()},Rt=({disabled:n,name:u,field:l,fields:g,value:h})=>{if(fe(n)&&o.mount||n){const f=n?void 0:q(h)?At(l?l._f:m(g,u)._f):h;L(a,u,f),$(u,f,!1,!1,!0)}},mt=(n,u={})=>{let l=m(r,n);const g=fe(u.disabled)||fe(t.disabled);return L(r,n,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:n}},name:n,mount:!0,...u}}),c.mount.add(n),l?Rt({field:l,disabled:fe(u.disabled)?u.disabled:t.disabled,name:n,value:u.value}):V(n,!0,u.value),{...g?{disabled:u.disabled||t.disabled}:{},...t.progressive?{required:!!u.required,min:ze(u.min),max:ze(u.max),minLength:ze(u.minLength),maxLength:ze(u.maxLength),pattern:ze(u.pattern)}:{},name:n,onChange:He,onBlur:He,ref:h=>{if(h){mt(n,u),l=m(r,n);const f=q(h.value)&&h.querySelectorAll&&h.querySelectorAll("input,select,textarea")[0]||h,b=Or(f),E=l._f.refs||[];if(b?E.find(K=>K===f):f===l._f.ref)return;L(r,n,{_f:{...l._f,...b?{refs:[...E.filter(Ft),f,...Array.isArray(m(i,n))?[{}]:[]],ref:{type:f.type,name:n}}:{ref:f}}}),V(n,!1,void 0,f)}else l=m(r,n,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||u.shouldUnregister)&&!(xr(c.array,n)&&o.action)&&c.unMount.add(n)}}},Tt=()=>t.shouldFocusError&&We(r,Ke,c.mount),Us=n=>{fe(n)&&(y.state.next({disabled:n}),We(r,(u,l)=>{const g=m(r,l);g&&(u.disabled=g._f.disabled||n,Array.isArray(g._f.refs)&&g._f.refs.forEach(h=>{h.disabled=g._f.disabled||n}))},0,!1))},Nt=(n,u)=>async l=>{let g;if(l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist()),t.disabled){u&&await u({...s.errors},l);return}let h=ne(a);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:f,values:b}=await R();s.errors=f,h=b}else await re(r);if(H(s.errors,"root"),te(s.errors)){y.state.next({errors:{}});try{await n(h,l)}catch(f){g=f}}else u&&await u({...s.errors},l),Tt(),setTimeout(Tt);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:te(s.errors)&&!g,submitCount:s.submitCount+1,errors:s.errors}),g)throw g},Is=(n,u={})=>{m(r,n)&&(q(u.defaultValue)?ie(n,ne(m(i,n))):(ie(n,u.defaultValue),L(i,n,ne(u.defaultValue))),u.keepTouched||H(s.touchedFields,n),u.keepDirty||(H(s.dirtyFields,n),s.isDirty=u.defaultValue?_(n,ne(m(i,n))):_()),u.keepError||(H(s.errors,n),p.isValid&&O()),y.state.next({...s}))},Ut=(n,u={})=>{const l=n?ne(n):i,g=ne(l),h=te(n),f=h?i:g;if(u.keepDefaultValues||(i=l),!u.keepValues){if(u.keepDirtyValues){const b=new Set([...c.mount,...Object.keys($e(i,a))]);for(const E of Array.from(b))m(s.dirtyFields,E)?L(f,E,m(a,E)):ie(E,m(f,E))}else{if(Pt&&q(n))for(const b of c.mount){const E=m(r,b);if(E&&E._f){const K=Array.isArray(E._f.refs)?E._f.refs[0]:E._f.ref;if(ot(K)){const G=K.closest("form");if(G){G.reset();break}}}}r={}}a=e.shouldUnregister?u.keepDefaultValues?ne(i):{}:ne(f),y.array.next({values:{...f}}),y.values.next({values:{...f}})}c={mount:u.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!p.isValid||!!u.keepIsValid||!!u.keepDirtyValues,o.watch=!!e.shouldUnregister,y.state.next({submitCount:u.keepSubmitCount?s.submitCount:0,isDirty:h?!1:u.keepDirty?s.isDirty:!!(u.keepDefaultValues&&!Fe(n,i)),isSubmitted:u.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:h?{}:u.keepDirtyValues?u.keepDefaultValues&&a?$e(i,a):s.dirtyFields:u.keepDefaultValues&&n?$e(i,n):u.keepDirty?s.dirtyFields:{},touchedFields:u.keepTouched?s.touchedFields:{},errors:u.keepErrors?s.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},It=(n,u)=>Ut(me(n)?n(a):n,u);return{control:{register:mt,unregister:gt,getFieldState:jt,handleSubmit:Nt,setError:Lt,_executeSchema:R,_getWatch:k,_getDirty:_,_updateValid:O,_removeUnmounted:tt,_updateFieldArray:x,_updateDisabledField:Rt,_getFieldArray:B,_reset:Ut,_resetDefaultValues:()=>me(t.defaultValues)&&t.defaultValues().then(n=>{It(n,t.resetOptions),y.state.next({isLoading:!1})}),_updateFormState:n=>{s={...s,...n}},_disableForm:Us,_subjects:y,_proxyFormState:p,_setErrors:N,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(n){o=n},get _defaultValues(){return i},get _names(){return c},set _names(n){c=n},get _formState(){return s},set _formState(n){s=n},get _options(){return t},set _options(n){t={...t,...n}}},trigger:Ge,register:mt,handleSubmit:Nt,watch:Ns,setValue:ie,getValues:Mt,reset:It,resetField:Is,clearErrors:Ts,unregister:gt,setError:Lt,setFocus:(n,u={})=>{const l=m(r,n),g=l&&l._f;if(g){const h=g.refs?g.refs[0]:g.ref;h.focus&&(h.focus(),u.shouldSelect&&me(h.select)&&h.select())}},getFieldState:jt}}function Nr(e={}){const t=ae.useRef(),s=ae.useRef(),[r,i]=ae.useState({isDirty:!1,isValidating:!1,isLoading:me(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:me(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Tr(e),formState:r});const a=t.current.control;return a._options=e,Er({subject:a._subjects.state,next:o=>{Sr(o,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),ae.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),ae.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),ae.useEffect(()=>{e.values&&!Fe(e.values,s.current)?(a._reset(e.values,a._options.resetOptions),s.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),ae.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),ae.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),ae.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=Ar(r,a),t.current}const os=(e,t,s)=>{if(e&&"reportValidity"in e){const r=m(s,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Ls=(e,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?os(r.ref,s,e):r.refs&&r.refs.forEach(i=>os(i,s,e))}},Ur=(e,t)=>{t.shouldUseNativeValidation&&Ls(e,t);const s={};for(const r in e){const i=m(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(Ir(t.names||Object.keys(e),r)){const o=Object.assign({},m(s,r));L(o,"root",a),L(s,r,o)}else L(s,r,a)}return s},Ir=(e,t)=>e.some(s=>s.startsWith(t+"."));var qr=function(e,t){for(var s={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];s[o]={message:c.message,type:c.code}}else s[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(p){return p.errors.forEach(function(y){return e.push(y)})}),t){var v=s[o].types,w=v&&v[r.code];s[o]=Cs(o,t,s,i,w?[].concat(w,r.message):r.message)}e.shift()}return s},Qr=function(e,t,s){return s===void 0&&(s={}),function(r,i,a){try{return Promise.resolve(function(o,c){try{var v=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(w){return a.shouldUseNativeValidation&&Ls({},a),{errors:{},values:s.raw?r:w}})}catch(w){return c(w)}return v&&v.then?v.then(void 0,c):v}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:Ur(qr(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};function Br({schema:e,submit:t,children:s,className:r=""}){const{register:i,handleSubmit:a,formState:{errors:o}}=Nr({resolver:Qr(e)});return F.jsx("form",{className:r,onSubmit:a(c=>t(c)),children:U.Children.map(s,c=>{var v;if(U.isValidElement(c)){const w={...c.props,register:c.props.formFor?i(c.props.formFor):void 0,error:c.props.formFor?((v=o[c.props.formFor])==null?void 0:v.message)??"":void 0};return U.cloneElement(c,{...w})}return c})})}function Hr({height:e="20vmin"}){return F.jsx("img",{alt:"UMC",src:chrome.runtime.getURL("logo/128.png"),style:{height:e},className:"mx-auto w-auto"})}function Kr(){const e=vs(Hs),{textColor:t,bgColor:s}=Ks(e);return Dt.set("side-panel/auth"),F.jsxs("div",{className:`flex min-h-full flex-1 flex-col items-center justify-center px-6 py-12 lg:px-8 ${s}`,children:[F.jsxs("div",{className:"w-full",children:[F.jsx(Hr,{}),F.jsx("h2",{className:`text-center text-2xl font-bold leading-9 tracking-tight ${t}`,children:rt("loginTitle")})]}),F.jsx("div",{className:"mt-10 w-full",children:F.jsxs(Br,{schema:$s,submit:async r=>{await dt.logInCloud(r)},children:[F.jsx(Jt,{formFor:"username",label:rt("empid"),textColor:t}),F.jsx(Jt,{className:"mt-2",formFor:"password",label:rt("password"),type:"password",textColor:t}),F.jsx("button",{type:"submit",style:{color:"#fff"},className:"flex w-full justify-center rounded-md bg-green-600 px-3 py-1.5 mt-3 text-sm font-semibold leading-6 shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600",children:rt("login")})]})})]})}const Gr={tr:"origin-bottom-left",br:"origin-top-left",tl:"origin-bottom-right",bl:"origin-top-right"},$r={tr:"left-0 bottom-[1.5rem]",tl:"right-0 bottom-[1.5rem]",br:"left-0 top-[1.5rem]",bl:"right-0 top-[1.5rem]"};function Rs({items:e,selected:t,direction:s,className:r="",children:i,width:a="fit-content",height:o="200px",onSelect:c}){const v=U.createRef(),[w,p]=U.useState(!1),[y,C]=U.useState(t??e[0]);return U.useEffect(()=>{C(t??e[0])},[t,e]),U.useEffect(()=>{const D=P=>{v.current&&!v.current.contains(P.target)&&p(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[v]),F.jsxs("div",{ref:v,className:`relative inline-block text-left ${r}`,children:[F.jsx("div",{children:F.jsxs("button",{type:"button",className:"inline-flex w-full justify-center gap-x-0.5 rounded-md p-1 bg-white text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",id:"menu-button","aria-expanded":w,"aria-haspopup":"menu",onClick:()=>p(!w),children:[i,F.jsx("svg",{className:`-mr-1 h-5 w-5 text-gray-400 transform transition-transform duration-300 ${w?"-rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",children:F.jsx("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})})]})}),F.jsx("div",{style:{width:a,maxHeight:o},className:`absolute ${$r[s]} z-10 mt-2 ${Gr[s]} rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none scale-animation ${w?"scale-on":"scale-off"}`,role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:-1,children:F.jsx("div",{role:"none",children:e.map(D=>F.jsx("button",{className:`w-full text-left block whitespace-nowrap overflow-hidden overflow-ellipsis px-4 py-2 text-sm text-gray-700 ${(y==null?void 0:y.value)===D.value?"bg-gray-200":""} hover:bg-gray-100`,role:"menuitem",tabIndex:-1,title:D.label,onClick:()=>{C(D),p(!1),c&&c(D)},children:D.label},D.id))})})]})}const zr=e=>U.createElement("svg",{t:1731651196750,className:"icon",viewBox:"0 0 1029 1024",xmlns:"http://www.w3.org/2000/svg","p-id":1643,xmlnsXlink:"http://www.w3.org/1999/xlink",width:200.9765625,height:200,...e},U.createElement("path",{d:"M877.216 491.808M703.84 479.936l-191.872 0L511.968 224.096C511.968 206.368 497.728 192 480 192c-17.76 0-32 14.4-32 32.096l0 287.808c0 17.76 14.272 32 32 32l223.872 0c17.76 0 32.096-14.24 32.096-32C735.968 494.176 721.6 479.936 703.84 479.936L703.84 479.936zM1028.128 834.368M224 320 128 320 128 224c0-17.664-14.336-32-32-32S64 206.336 64 224l0 128c0 17.664 14.336 32 32 32l128 0c17.664 0 32-14.336 32-32C256 334.336 241.664 320 224 320zM139.008 603.488C136 584 123.264 573.344 105.6 573.344c-17.664 0-30.112 13.984-30.112 31.68 0 5.536 1.984 9.984 2.336 15.328C126.336 815.296 302.016 960 512 960c247.424 0 448-200.576 448-448S759.424 64 512 64C321.024 64 158.4 183.712 93.952 352l69.312 0C223.968 219.904 357.088 128 512 128c212.064 0 384 171.936 384 384s-171.936 384-384 384c-178.88 0-328.736-122.464-371.424-288",fill:"#272636","p-id":1644}));async function Wr(e){let t=null;const s=await fetch("http://172.16.41.100:8080/api/v1/chats/list",{method:"GET",headers:{Authorization:`Bearer ${e}`}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>(ps(`Cannot fetch chat list: ${r}`),t=r,null));if(t)throw t;return s??[]}function Xr(){const[e,t]=U.useState(void 0),[s,r]=U.useState([]);U.useEffect(()=>{(async()=>{const o=await dt.get();return(await Wr(o.webui.token)).map(v=>({id:crypto.randomUUID(),label:v.title,value:v.id}))})().then(o=>{r(o),t(o[0])})},[]);const i=e?{...e}:void 0;return F.jsx(Rs,{items:s,direction:"bl",width:"15rem",height:"200px",selected:i,onSelect:a=>t({...a}),children:F.jsx(zr,{style:{width:"20px",height:"20px"}})})}async function Jr(e){let t=null;const s=await fetch("http://172.16.41.100:8080/api/models",{method:"GET",headers:{Authorization:`Bearer ${e}`}}).then(async i=>{if(!i.ok)throw await i.json();return i.json()}).catch(i=>(ps(`Cannot fetch models: ${i}`),t=i,null));if(t)throw t;let r=(s==null?void 0:s.data)??[];return zs("Models fetched",r),r=r.filter(i=>{var a,o;return i.id!=="arena-model"&&!((o=(a=i.info)==null?void 0:a.meta)!=null&&o.hidden)}).sort((i,a)=>{var C,D,P,S;const o=(D=(C=i.info)==null?void 0:C.meta)==null?void 0:D.position,c=(S=(P=a.info)==null?void 0:P.meta)==null?void 0:S.position,v=o!==void 0,w=c!==void 0;if(v&&w)return o-c;if(v)return-1;if(w)return 1;const p=i.name.toLowerCase(),y=a.name.toLowerCase();return p<y?-1:p>y?1:i.name<a.name?-1:i.name>a.name?1:0}),r}const Yr=e=>U.createElement("svg",{t:1730962429708,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":15923,xmlnsXlink:"http://www.w3.org/1999/xlink",width:200,height:200,...e},U.createElement("path",{d:"M114.0736 307.2l-1.4336 0.73728v418.33472L512 942.08V511.20128z",fill:"#FFFFFF","p-id":15924}),U.createElement("path",{d:"M930.73408 302.72512L521.3184 92.16 128.50176 294.07232l-15.86176 8.2944L521.3184 501.76l4.79232-2.16064L931.84 303.45216v-0.3584l-1.10592-0.36864zM526.11072 499.6096L521.3184 501.76l4.79232-2.16064z",fill:"#91D5FF","p-id":15925}),U.createElement("path",{d:"M1006.40768 264.31488a68.21888 68.21888 0 0 0-29.04064-30.39232L548.00384 7.68a67.51232 67.51232 0 0 0-62.49472 0L56.50432 232.448a66.44736 66.44736 0 0 0-17.64352 15.74912 73.25696 73.25696 0 0 0-11.02848 14.27456A67.87072 67.87072 0 0 0 20.48 291.76832v439.33696a67.33824 67.33824 0 0 0 36.7616 59.31008l428.99456 224.79872c9.32864 5.29408 19.79392 8.31488 30.5152 8.78592h5.15072a64.53248 64.53248 0 0 0 26.10176-6.9632L976.9984 792.25856A67.33824 67.33824 0 0 0 1013.76 732.93824V291.76832a64.23552 64.23552 0 0 0-7.35232-27.45344z m-80.50688 39.90528l-404.3776 199.168-4.77184 2.56v427.25376L107.60192 719.02208V303.85152l15.81056-8.41728L516.75136 89.67168l408.04352 213.8112 1.10592 0.73728z",fill:"#40A9FF","p-id":15926}));function Zr(){const[e,t]=U.useState(void 0),[s,r]=U.useState([]);U.useEffect(()=>{(async()=>{const o=await dt.get();return(await Jr(o.webui.token)).map(v=>({id:crypto.randomUUID(),label:v.name,value:v.id}))})().then(o=>{r(o),t(o[0])})},[]);const i=e?{...e}:void 0;return F.jsxs("div",{className:"flex gap-1 items-center",children:[F.jsx(Rs,{items:s,direction:"br",selected:i,onSelect:a=>t({...a}),children:F.jsx(Yr,{style:{width:"20px",height:"20px"}})}),F.jsx("p",{children:(e==null?void 0:e.label)??""})]})}function ei(){return Dt.set("side-panel/chat"),F.jsx("div",{className:"h-full w-full p-2 flex flex-col justify-between",children:F.jsxs("div",{className:"flex justify-between mb-1",children:[F.jsx(Zr,{}),F.jsx(Xr,{})]})})}const ti=new mr;function si(){Dt.set("side-panel");const e=vs(dt);return F.jsx("div",{className:"h-full w-full",children:e.icloud.access_token?F.jsx(ei,{}):F.jsx(Kr,{})})}Gs(document.getElementById("root")).render(F.jsx(U.StrictMode,{children:F.jsx(pr,{client:ti,children:F.jsx("div",{className:"h-dvh min-w-[360px]",children:F.jsx(si,{})})})}));
